<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.6.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.6.0" color="#222">









<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1time: 2019年2月18日 vue 学习笔记router-link中传值的三种方式  环境搭建  vue2+webpack4+scss 以下代码中，如果传递参数1为对应的学生的id？ 1234&amp;lt;li v-for=&amp;quot;student in students&amp;quot; :key=&amp;quot;student.id&amp;quot; @click=&amp;quot;queryScore(1)&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="静谧花园">
<meta property="og:url" content="http://yoursite.com/2019/03/17/vue-learn/index.html">
<meta property="og:site_name" content="静谧花园">
<meta property="og:description" content="1time: 2019年2月18日 vue 学习笔记router-link中传值的三种方式  环境搭建  vue2+webpack4+scss 以下代码中，如果传递参数1为对应的学生的id？ 1234&amp;lt;li v-for=&amp;quot;student in students&amp;quot; :key=&amp;quot;student.id&amp;quot; @click=&amp;quot;queryScore(1)&amp;">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-03-12T08:44:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="静谧花园">
<meta name="twitter:description" content="1time: 2019年2月18日 vue 学习笔记router-link中传值的三种方式  环境搭建  vue2+webpack4+scss 以下代码中，如果传递参数1为对应的学生的id？ 1234&amp;lt;li v-for=&amp;quot;student in students&amp;quot; :key=&amp;quot;student.id&amp;quot; @click=&amp;quot;queryScore(1)&amp;">






  <link rel="canonical" href="http://yoursite.com/2019/03/17/vue-learn/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title> | 静谧花园</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">静谧花园</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">君子善思，善假于物。</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/17/vue-learn/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静谧花园">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-17 20:53:50" itemprop="dateCreated datePublished" datetime="2019-03-17T20:53:50+08:00">2019-03-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-12 16:44:34" itemprop="dateModified" datetime="2019-03-12T16:44:34+08:00">2019-03-12</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time: 2019年2月18日</span><br></pre></td></tr></table></figure>
<h1 id="vue-学习笔记"><a href="#vue-学习笔记" class="headerlink" title="vue 学习笔记"></a>vue 学习笔记</h1><p><a href="https://blog.csdn.net/qq_38729043/article/details/81904167" target="_blank" rel="noopener">router-link中传值的三种方式</a></p>
<ul>
<li>环境搭建</li>
</ul>
<p><a href="https://segmentfault.com/a/1190000018064614?utm_source=tag-newest" target="_blank" rel="noopener">vue2+webpack4+scss</a></p>
<h3 id="以下代码中，如果传递参数"><a href="#以下代码中，如果传递参数" class="headerlink" title="以下代码中，如果传递参数"></a>以下代码中，如果传递参数</h3><p>1为对应的学生的id？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;student in students&quot; :key=&quot;student.id&quot; @click=&quot;queryScore(1)&quot;&gt;</span><br><span class="line">    &lt;img src=&quot;../../assets/1.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;student.name&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>
<h3 id="使用图标展示数据"><a href="#使用图标展示数据" class="headerlink" title="使用图标展示数据"></a>使用图标展示数据</h3><p>引入库文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure>
<p><a href="https://www.cnblogs.com/yesyes/p/7161923.html" target="_blank" rel="noopener">vuejs中使用echart图表</a><br><a href="https://echarts.baidu.com/examples/editor.html?c=pie-doughnut" target="_blank" rel="noopener">饼形图实例</a></p>
<h3 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h3><ul>
<li>简单用法</li>
</ul>
<p>动态组件，使用以下标签进行绑定，其中which_to_show指定绑定的组件的名称。然后在其他处动态的改变这个值，即能达到切换效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;component v-bind:is=&quot;which_to_show&quot;&gt;&lt;/component&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/m0_37479246/article/details/78915665" target="_blank" rel="noopener">动态组件</a></p>
<ul>
<li>动态组件，监听子组件传递的消息</li>
</ul>
<p>跟普通的组件传递消息一致。</p>
<p>父组件监听消息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;component v-bind:is=&quot;dayRecordShow&quot; v-on:dayforward=&quot;dayRecordShow=&apos;DayList&apos;&quot;&gt;&lt;/component&gt;</span><br></pre></td></tr></table></figure></p>
<p>子组件通过按钮，触发消息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;mt-button type=&quot;primary&quot; size=&quot;large&quot; @click=&quot;$emit(&apos;dayforward&apos;)&quot;&gt;查看详情&lt;/mt-button&gt;</span><br></pre></td></tr></table></figure>
<h3 id="v-for使用"><a href="#v-for使用" class="headerlink" title="v-for使用"></a>v-for使用</h3><p>v-for动态选择，然后根据选中的id动态设置选择的样式class。实现了动态选择选项的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//模板</span><br><span class="line">&lt;div class=&quot;stuclass&quot;&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">	  &lt;li </span><br><span class="line">	    v-for=&quot;classInfo in classList&quot; :key=&apos;classInfo.cid&apos;</span><br><span class="line">	    :class=&quot;classInfo.cid==selClass?&apos;active&apos;:&apos;deactive&apos;&quot;</span><br><span class="line">	    @click=&quot;selClass=classInfo.cid&quot;</span><br><span class="line">	  &gt;</span><br><span class="line">	    &#123;&#123;classInfo.className&#125;&#125;</span><br><span class="line">	  &lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">//数据</span><br><span class="line"> data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      selClass:1,</span><br><span class="line">      classList:[</span><br><span class="line">        &#123;cid:1,className:&apos;一班&apos;&#125;,</span><br><span class="line">        &#123;cid:2,className:&apos;二班&apos;&#125;,</span><br><span class="line">        &#123;cid:3,className:&apos;三班&apos;&#125;,</span><br><span class="line">        &#123;cid:4,className:&apos;四班&apos;&#125;,</span><br><span class="line">        &#123;cid:5,className:&apos;五班&apos;&#125;,</span><br><span class="line">        &#123;cid:6,className:&apos;六班&apos;&#125;,</span><br><span class="line">        &#123;cid:7,className:&apos;七班&apos;&#125;</span><br><span class="line">      ],</span><br><span class="line">      chart: null,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h3 id="MintUI日期选择控件使用"><a href="#MintUI日期选择控件使用" class="headerlink" title="MintUI日期选择控件使用"></a>MintUI日期选择控件使用</h3><p>参照官方的例子，确实比较简单。简单的使用例子如下datetime-picker</p>
<p>注意，不要将此组件，放到触发的组件容器中，否则，无限弹出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//引入日期时间选择器。 下面进行全局注册</span><br><span class="line">import &#123; DatetimePicker &#125; from &apos;mint-ui&apos;;</span><br><span class="line">Vue.component(DatetimePicker.name, DatetimePicker);</span><br><span class="line"></span><br><span class="line">//</span><br></pre></td></tr></table></figure>
<h3 id="增加字体"><a href="#增加字体" class="headerlink" title="增加字体"></a>增加字体</h3><p>将font-awesome下载后，放到/src/static/font-awesome文件夹下。（css、font两个文件夹，其他的不要。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//在main.js中直接引用以下样式</span><br><span class="line">import &apos;./static/font-awesome/css/font-awesome.min.css&apos;;</span><br></pre></td></tr></table></figure>
<p>在代码中，即可使用。如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class=&quot;fa fa-angle-left&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure>
<h3 id="MintUI封装picker的例子"><a href="#MintUI封装picker的例子" class="headerlink" title="MintUI封装picker的例子"></a>MintUI封装picker的例子</h3><p><a href="https://blog.csdn.net/solocoder/article/details/82796777" target="_blank" rel="noopener">Vue + Mint-ui 封装滚轮选择器</a></p>
<h3 id="全局引入第三方库"><a href="#全局引入第三方库" class="headerlink" title="全局引入第三方库"></a>全局引入第三方库</h3><p>在引入underscore的库时候，遇到了这样的一个需求，需要全局引入一个库。但是在main.js中按如下代码方式引入，结果发现并不行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>参考：<br><a href="https://www.cnblogs.com/sxz2008/p/8245282.html" target="_blank" rel="noopener">Vue 中如何引入第三方 JS 库</a></p>
<h3 id="canvas清空画布的方法"><a href="#canvas清空画布的方法" class="headerlink" title="canvas清空画布的方法"></a>canvas清空画布的方法</h3><p><a href="https://blog.csdn.net/idomyway/article/details/78513075" target="_blank" rel="noopener">canvas清空画布方法</a></p>
<ul>
<li>最简单的方法：由于canvas每当高度或宽度被重设时，画布内容就会被清空，因此可以用以下方法清空</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function clearCanvas()</span><br><span class="line">&#123;  </span><br><span class="line">    var c=document.getElementById(&quot;myCanvas&quot;);  </span><br><span class="line">    var cxt=c.getContext(&quot;2d&quot;);  </span><br><span class="line">    c.height=c.height;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用clearRect方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function clearCanvas()  </span><br><span class="line">&#123;  </span><br><span class="line">    var cxt=document.getElementById(&quot;myCanvas&quot;).getContext(&quot;2d&quot;);</span><br><span class="line">    cxt.clearRect(0,0,c.width,c.height);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="引用mint-ui中的swipe"><a href="#引用mint-ui中的swipe" class="headerlink" title="引用mint-ui中的swipe"></a>引用mint-ui中的swipe</h3><p>引入到文件中，看不到任何效果，查看dom节点，发现有结构。所以，是因为div没有默认的高度，所以呢，设置高度即可显示。如果是图片，则会为img增加widh=100%。</p>
<h3 id="div单行显示"><a href="#div单行显示" class="headerlink" title="div单行显示"></a>div单行显示</h3><p>如果想让div单行显示，其实只要设置行高跟div的高度一致，然后多余的文字使用overflow:hidden即可。</p>
<h3 id="常用的圣杯布局、双飞布局"><a href="#常用的圣杯布局、双飞布局" class="headerlink" title="常用的圣杯布局、双飞布局"></a>常用的圣杯布局、双飞布局</h3><p><a href="https://www.cnblogs.com/lyzg/p/5160570.html" target="_blank" rel="noopener">圣杯布局小结</a>文章讲解比较详细。而且这个人的博客还是很不错的。</p>
<h3 id="keep-alive属性"><a href="#keep-alive属性" class="headerlink" title="keep-alive属性"></a>keep-alive属性</h3><p>这个属性，用在动态组件上面，这样动态组件不用每次都销毁重建。（下面方式进行监听）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">destroyed()&#123;</span><br><span class="line">    console.log(&apos;我销毁了啦&apos;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<h3 id="mint-ui中的切换卡片按钮"><a href="#mint-ui中的切换卡片按钮" class="headerlink" title="mint-ui中的切换卡片按钮"></a>mint-ui中的切换卡片按钮</h3><p>通过观察dom节点，实际上改变的是该节点的可见性。(mint-tab-container-item  display:none)<br>也就是说，所有节点其实都已经渲染上了，但是只是没有显示而已。这个跟keep-alive动态组件还不一样。动态组建，实际上整体已经脱离了文档流，估计状态都还保存在内存中。再次需要的时候，再次放回去。原理不一样。</p>
<blockquote>
<p>为什么说，动态组件，切换时dom节点会脱离文档流？因为使用了定期任务setInterval，在定时任务执行时，切换了，结果找不到了dom节点。<strong>所以，如果有定时任务，延时任务，而且还需要对dom节点操作，请不要这么干</strong>，直接使用v-show好啦。这个东西，就不会啦。2019/2/28</p>
</blockquote>
<h3 id="mint-ui中的Indicator"><a href="#mint-ui中的Indicator" class="headerlink" title="mint-ui中的Indicator"></a>mint-ui中的Indicator</h3><p>其功能其实跟Ext.Msg.Wait的功能很像，作用是，防止用户多次点提交按钮。所以，用法也相似。2019/2/28</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Indicator.open(&apos;审核中...&apos;);</span><br><span class="line">//请求成功或者失败，都应该关闭</span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line">        Indicator.close();//关闭全局的mask</span><br><span class="line">        me.$router.go(-1);</span><br><span class="line">&#125;,1000);</span><br></pre></td></tr></table></figure>
<h3 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h3><p>做一件事的方法，有很多种，善于思考，总能找到一种适合的解决办法。</p>
<p>（2019年2月28日）今天做考勤路径跳转，在做之前，已经想过了一种解决方法，就是，如果当前页面是考勤页面，默认的全局返回按钮隐藏起来，然后设置该页面特定的按钮，然后跟该组件能紧密的联合起来，能获取到相关的参数，控制特定的返回过程。</p>
<p>但是，中午看手册，路由地址变化，如果地址不变，只是参数发生了变化，那么，组件不会刷新。正好利用此特性，在原因的路由上面，加了请求参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    &apos;$route&apos; (to, from) &#123;</span><br><span class="line">        var show = this.$route.params.show;</span><br><span class="line">        var dayRds = [&apos;DaySummary&apos;, &apos;DayList&apos;, &apos;DayDetail&apos;];</span><br><span class="line">        var monthRds = [&apos;MonthSummary&apos;, &apos;MonthList&apos;, &apos;MonthDetail&apos;];</span><br><span class="line">        var index = dayRds.indexOf(show);</span><br><span class="line">        if (index &gt; -1) &#123;</span><br><span class="line">            this.selected = &apos;dayRecord&apos;;</span><br><span class="line">            this.dayRecordShow = dayRds[index];</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        index = monthRds.indexOf(show);</span><br><span class="line">        if (index &gt; -1) &#123;</span><br><span class="line">            this.selected = &apos;monthRecord&apos;;</span><br><span class="line">            this.monthRecordShow = monthRds[index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h3 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h3><ul>
<li>如果引入的组件，含有插槽，在插槽里面的内容，其能享受到该组件的所有域。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;mt-popup</span><br><span class="line">      v-model=&quot;popupVisible&quot;</span><br><span class="line">      popup-transition=&quot;popup-fade&quot;</span><br><span class="line">&gt;</span><br><span class="line">      &lt;div class=&quot;photo-container&quot; @click=&quot;popupVisible=false&quot;&gt;</span><br><span class="line">      这个里面的所有域，跟外面的相同。</span><br><span class="line">        &lt;div class=&quot;photo-img&quot;         </span><br><span class="line">          v-for=&quot;(photo,index) in photos&quot; </span><br><span class="line">          :key=&quot;index&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;img src=&quot;../../assets/1.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/mt-popup&gt;</span><br></pre></td></tr></table></figure>
<h3 id="使用sass文件格式"><a href="#使用sass文件格式" class="headerlink" title="使用sass文件格式"></a>使用sass文件格式</h3><p>使用sass语言的时候，由于层层嵌套的原因，如果在浏览器中发现想要的样式，没有列处理，查看拼写是否错误，或者嵌套的错误。无法识别等。</p>
<h3 id="使用overflow清除浮动"><a href="#使用overflow清除浮动" class="headerlink" title="使用overflow清除浮动"></a>使用overflow清除浮动</h3><ul>
<li>div内部有float元素，该div可以使用float来清除浮动。</li>
<li>另外一种方法是，该div增加一个子div，子div style=”clear:both”</li>
</ul>
<h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><p>遇到一个如下的问题，需要循环photos里面的元素，并根据该元素绑定一个事件，但是如果photos为空的话，那么会报如下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught TypeError: Cannot read property &apos;$emit&apos; of undefined</span><br></pre></td></tr></table></figure></p>
<p>大概的意思是：为遍历的元素增加了触发事件，结果该遍历的条目为空。然后事件绑定就报错了。暂无解法，只能限制用户不能将photos数组清空。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 点击轮播图，查看图片详情 --&gt;</span><br><span class="line">    &lt;mt-popup</span><br><span class="line">      v-model=&quot;popupVisible&quot;</span><br><span class="line">      position=&quot;right&quot;</span><br><span class="line">      :modal=&quot;false&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;div class=&quot;photo-container&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;photo-img&quot;         </span><br><span class="line">          v-for=&quot;(photo,index) in photos&quot; </span><br><span class="line">          :key=&quot;index&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div class=&quot;tools&quot; @click=&quot;deletePic(photo.src)&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;iconfont icon-delete&quot;&gt;&lt;/i&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;img src=&quot;../../assets/1.png&quot; alt=&quot;&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;btn&quot;&gt;</span><br><span class="line">          &lt;mt-button type=&quot;primary&quot; size=&quot;large&quot; @click.native=&quot;popupVisible=false&quot;&gt;确定&lt;/mt-button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/mt-popup&gt;</span><br><span class="line">    //删除方法</span><br><span class="line"></span><br><span class="line">    deletePic(src)&#123;</span><br><span class="line">      console.log(&apos;您要删除图片&apos;+src);</span><br><span class="line">      var index=-1;</span><br><span class="line">      var ps=this.photos;</span><br><span class="line">      //查找到对应删除的条目</span><br><span class="line">      for(var i=0;i&lt;ps.length;i++)&#123;</span><br><span class="line">        if(src===ps[i].src)&#123;</span><br><span class="line">          index=i;</span><br><span class="line">          break;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if(index&gt;-1)&#123;//找到</span><br><span class="line">        this.photos.splice(index,1);</span><br><span class="line">        //发送请求，将图片从服务器上删除。</span><br><span class="line">        //todo</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></p>
<p>另外，发现Mint UI中Toast的z-index更小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Toast(&apos;必须要保留一张图片。&apos;);</span><br></pre></td></tr></table></figure></p>
<p>临时解决办法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//条件判断，要不要显示</span><br><span class="line">&lt;div class=&quot;tools&quot; @click=&quot;deletePic(photo.src)&quot; v-if=&quot;photos.length&gt;1&quot;&gt;</span><br><span class="line">            &lt;i class=&quot;iconfont icon-delete&quot;&gt;&lt;/i&gt;</span><br><span class="line">          &lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="vue中使用手势库问题"><a href="#vue中使用手势库问题" class="headerlink" title="vue中使用手势库问题"></a>vue中使用手势库问题</h3><p>可用的库  vue-touch 还有touchjs。反正这个库不是很好用。<br>对于前一种库，使用如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//默认的生成div标签，但是问题是，滑动，swiperight，标签多了一个touch-action: none;样式，</span><br><span class="line">//该样式阻止了正常上下的滑动。</span><br><span class="line">//style=&quot;touch-action: pan-y!important;&quot; 该样式能恢复，但是非常麻烦。</span><br><span class="line">&lt;v-touch v-on:swiperight=&quot;sright&quot;&gt;&lt;/v-touch&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="vue中引入图片"><a href="#vue中引入图片" class="headerlink" title="vue中引入图片"></a>vue中引入图片</h3><p>如果直接在html代码中引入代码，框架打包的时候，会自动的处理图片的连接。但是如果在代码中，引入的话，需要自己来控制。核心代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require(&quot;../assets/test.png&quot;);</span><br></pre></td></tr></table></figure></p>
<p>应用举例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//1、首先给图片地址绑定变量</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;img :src=&quot;imgUrl&quot;&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">//2、在script中设置变量</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    //方法1.直接将图片引入为模块</span><br><span class="line">    require imgUrl from &quot;../assets/test.png&quot;</span><br><span class="line">    //方法2.将imgUrl放在数据里</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            imgUrl:require(&quot;../assets/test.png&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="页面跳转“保活”功能"><a href="#页面跳转“保活”功能" class="headerlink" title="页面跳转“保活”功能"></a>页面跳转“保活”功能</h3><p>有的时候，页面跳转，返回回来时，页面要求还是上次已加载的样式。我个人称其为“保活”。在Ext中，如果采用card布局，很容易就实现了“保活”。在Vue里面，根据情况，分为三种：</p>
<ul>
<li>if判断:如果页面路由没有发生跳转，此页面就能实现报活。（主要利用v-if或者v-show动态的显示不同的页面）</li>
<li>参数：如果页面跳转了，但是只是路由的参数发生了变化，根据Vue官方路由中的介绍，页面不会发生重新渲染。</li>
<li>子路由：做一个空的组件，做容器。路由出口，让其保活。</li>
<li>动态组件。暂未思考。<br>子路由应用具体的如下：<br>父容器：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 父容器，让其保活，keep-alive --&gt;</span><br><span class="line">  &lt;div class=&quot;scorehome&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;keep-alive&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/keep-alive&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;ScoreHome&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>子路由设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: &apos;/score/&apos;,</span><br><span class="line">    name: &apos;ScoreHome&apos;,</span><br><span class="line">    meta: &#123; title: &apos;成绩查询&apos; &#125;,</span><br><span class="line">    component: resolve =&gt; require([&apos;../components/score/ScoreHome&apos;], resolve),</span><br><span class="line">    children: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: &apos;index&apos;,</span><br><span class="line">        name: &apos;Score&apos;,</span><br><span class="line">        meta: &#123; title: &apos;成绩查询&apos; &#125;,</span><br><span class="line">        component: resolve =&gt; require([&apos;../components/score/Score&apos;], resolve),//懒加载</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: &apos;queryscore&apos;,</span><br><span class="line">        name: &apos;QueryScore&apos;,</span><br><span class="line">        meta: &#123; title: &apos;成绩查询&apos; &#125;,</span><br><span class="line">        component: resolve =&gt; require([&apos;../components/score/QueryScore&apos;], resolve),//懒加载</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>这样即实现了保活功能。</p>
<p>但是，现实需求是复杂的，页面从1→2→3或者3→2→1这样方向传递。其中2需要保活，3不需要保活。怎么做呢？</p>
<p>根据上面的三种方式，后两种方式差不多。每次进入3的时候，让其主动刷新呢？那么就需要导航守位或者监控导航的变化。或者还可以利用消息传递机制。强制让一个组件重新刷新，这个？</p>
<h4 id="临时解决办法"><a href="#临时解决办法" class="headerlink" title="临时解决办法"></a>临时解决办法</h4><p>临时监控路由变化。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">  $route(to,from)&#123;</span><br><span class="line">    var me = this;</span><br><span class="line">    //如果判断是当前路由，则进行初始化，并重新加载数据。</span><br><span class="line">    //注意，这个方法，首次并不会执行，只有再次过来才会执行。</span><br><span class="line">    if(to.path==&quot;/score/queryscore&quot;)&#123;</span><br><span class="line">      this.user_name= null;</span><br><span class="line">      this.exam_name=null; //考试名称</span><br><span class="line">      this.exam_type= null; //考试类型</span><br><span class="line">      me.studentObj = to.query.studentObj;</span><br><span class="line">      me.parseExam();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<h3 id="导航守位"><a href="#导航守位" class="headerlink" title="导航守位"></a>导航守位</h3><p>beforeRouteEnter这个函数里面好像访问不到this，这个函数里面必须要调用next()，否则加载不到页面。它比watch里面监控到的$route变化发生更早。</p>
<h3 id="关于未修改，不提示直接返回"><a href="#关于未修改，不提示直接返回" class="headerlink" title="关于未修改，不提示直接返回"></a>关于未修改，不提示直接返回</h3><p>这个是Ext后台的功能，用户希望，没有修改时，可以直接返回，不要进行提醒。思路，监控用户有无输入比较麻烦。则判断，用户点击组件的次数，如果只点了一次（这一次是发生在点返回按钮时），那么认为没有做任何修改。弊端，有可能用户用键盘发生了变化，这个就不考虑了。核心代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//增加点击时，</span><br><span class="line">listeners:&#123;</span><br><span class="line">        &apos;afterrender&apos;:function(cmp, eOpts)&#123;</span><br><span class="line">            var me=this;</span><br><span class="line">            me.el.dom.onclick=function()&#123;</span><br><span class="line">                me.bodyCount++;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        &apos;destroy &apos;:function(cmp, eOpts)&#123;</span><br><span class="line">            this.el.dom.onclick=null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">//在每次添加、修改时，重新初始化一次。因为这个组件是不死的。</span><br><span class="line">ShineMessageHub.on(&quot;roomlistgridpaneladdevent&quot;,function(rd)&#123;</span><br><span class="line">            me.bodyCount=0;</span><br><span class="line">//在返回时，判断次数，&lt;=1则进行默认处理。</span><br></pre></td></tr></table></figure></p>
<h3 id="serviceworker"><a href="#serviceworker" class="headerlink" title="serviceworker"></a>serviceworker</h3><p>第一次听说这个概念</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//通过一下方式，进行控制。</span><br><span class="line">chrome://serviceworker-internals/</span><br></pre></td></tr></table></figure>
<h3 id="手机端禁止缩放"><a href="#手机端禁止缩放" class="headerlink" title="手机端禁止缩放"></a>手机端禁止缩放</h3><p>代码如下，但是对于浏览器好像，并没有强制，但是对于微信，好像支持。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=no&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>网上找来的解释：</p>
<blockquote>
<p><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><br>该meta标签的作用是让当前viewport的宽度等于设备的宽度，同时不允许用户手动缩放。<br>其中 maximum-scale为允许用户的最大缩放值，user-scalable为是否允许用户进行缩放，yes(默认)代表允许，no(0)代表不允许，两者结合使用可以阻止页面被放大（经测试，少一项都达不到效果）</p>
</blockquote>
<h3 id="vue中引入包的先后顺序"><a href="#vue中引入包的先后顺序" class="headerlink" title="vue中引入包的先后顺序"></a>vue中引入包的先后顺序</h3><p>代码如下，错误的解释如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">//注意，这个App包先引入，所以无法使用后面引入的东西。</span><br><span class="line">import App from &apos;./App&apos;</span><br><span class="line">import router from &apos;./router/index&apos;</span><br><span class="line">import Mint from &apos;mint-ui&apos;;</span><br><span class="line">import &apos;mint-ui/lib/style.css&apos;</span><br><span class="line">import &#123; Header &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import &#123; TabContainer, TabContainerItem &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import &#123; Navbar, TabItem &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import axios from &quot;axios&quot;</span><br><span class="line">import GlobalTools from &apos;./components/GlobalTools.js&apos;//引用模块进来</span><br><span class="line">//像下面的这个MessageBox就无法在App中直接使用。因为顺序问题。</span><br><span class="line">import &#123; MessageBox &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import &#123; InfiniteScroll &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import &#123; Loadmore &#125; from &apos;mint-ui&apos;;</span><br><span class="line">import &#123; Actionsheet &#125; from &apos;mint-ui&apos;;</span><br></pre></td></tr></table></figure>
<p>重要的原因是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Mint from &apos;mint-ui&apos;;</span><br><span class="line">//在注册到Vue中，每个实例都多了$indicator、$messagebox、$toast方法。</span><br><span class="line">Vue.use(Mint);</span><br></pre></td></tr></table></figure>
<h3 id="监控返回事件"><a href="#监控返回事件" class="headerlink" title="监控返回事件"></a>监控返回事件</h3><p>本来想做的功能是，监控返回时，判断，如果要退出了，则提示是否要退出。结果，下面的这个功能死活不起作用。（估计在调试模式下，websocket会返回的加载更改的代码）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&apos;popstate&apos;,function()&#123;</span><br><span class="line">      console.log(&apos;监控退出事件&apos;);</span><br><span class="line">      var notShowBackList=[&apos;/&apos;,&apos;/HomePanel/&apos;,&apos;/MySelfPanel/&apos;,&apos;/SettingPanel/&apos;];</span><br><span class="line">      var find=notShowBackList.indexOf(me.$router.history.current.path);</span><br><span class="line">      if(find&gt;-1)&#123;</span><br><span class="line">        MessageBox.confirm(&apos;确定要退出吗?&apos;).then(action =&gt; &#123;</span><br><span class="line">        &#125;).catch(action=&gt;&#123;</span><br><span class="line">          window.history.pushState(&apos;forward&apos;, null, &apos;#/&apos;);</span><br><span class="line">          window.history.forward(1);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,false);</span><br></pre></td></tr></table></figure>
<h3 id="格式化时间代码优化"><a href="#格式化时间代码优化" class="headerlink" title="格式化时间代码优化"></a>格式化时间代码优化</h3><p>以前使用Ext的库函数惯了，后来自己使用vue框架的时候，很多库都没有了。然后自己写了格式化时间代码。又经再次优化，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/************</span><br><span class="line"> * 2019年2月22日</span><br><span class="line"> * a 时间   sep 分隔符，格式化输出时间</span><br><span class="line"> ************/</span><br><span class="line">formatDate(date, sep) &#123;</span><br><span class="line">    if (!date) &#123;</span><br><span class="line">        return &apos;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    //改进的代码</span><br><span class="line">    return date.toISOString()</span><br><span class="line">        .replace(/T/, &apos; &apos;) // replace T with a space</span><br><span class="line">	.replace(/\..+/, &apos;&apos;)</span><br><span class="line">        .slice(0, -3);</span><br><span class="line">    //之前的代码</span><br><span class="line">    return (</span><br><span class="line">        date.getFullYear() +</span><br><span class="line">        &quot;-&quot; +</span><br><span class="line">        (date.getMonth() &gt; 8 ? &quot;&quot; : &quot;0&quot;) +</span><br><span class="line">        (date.getMonth() + 1) +</span><br><span class="line">        &quot;-&quot; +</span><br><span class="line">        (date.getDate() &gt; 9 ? &quot;&quot; : &quot;0&quot;) +</span><br><span class="line">        date.getDate() +</span><br><span class="line">        &quot; &quot; +</span><br><span class="line">        (date.getHours() &gt; 9 ? &quot;&quot; : &quot;0&quot;) +</span><br><span class="line">        date.getHours() +</span><br><span class="line">        &apos;:&apos; +</span><br><span class="line">        (date.getMinutes() &gt; 9 ? &quot;&quot; : &quot;0&quot;) +</span><br><span class="line">        date.getMinutes());</span><br></pre></td></tr></table></figure>
<p>然后最终优化为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/************</span><br><span class="line">* 2019年2月22日</span><br><span class="line">* date时间对象 ，格式化输出时间</span><br><span class="line">************/</span><br><span class="line">    //date.toISOString如果没有这个方法，那么认为不是时间格式。返回为空字符串。</span><br><span class="line">    //比上面的异常判断更好。</span><br><span class="line">    formatDate(date) &#123;</span><br><span class="line">      return date&amp;&amp;date.toISOString?date.toISOString()</span><br><span class="line">              .replace(/T/, &apos; &apos;)      // replace T with a space</span><br><span class="line">              .replace(/\..+/, &apos;&apos;)</span><br><span class="line">              .slice(0,-3):&apos;&apos;;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>然后发现，时区还不对，格始化的时间小了8小时。然后，又再次优化为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">formatDate(date) &#123;</span><br><span class="line">//运用了括号表达式，（1，2）返回最后一个值的值，1表达式，主要功能，纠正时间8小时误差。</span><br><span class="line">      return date&amp;&amp;date.toISOString?(date=new Date(date.getTime()-date.getTimezoneOffset()*60*1000),date.toISOString()</span><br><span class="line">              .replace(/T/, &apos; &apos;)      // replace T with a space</span><br><span class="line">              .replace(/\..+/, &apos;&apos;)</span><br><span class="line">              .slice(0,-3)):&apos;&apos;;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>上面运用到了一个知识，Date本身是对象，所以呢，其是按址传递的。但是，date=new Date 其实相当于又拷贝了一个新对象。跟原对象已经没有关系了。所以呢，new之后，跟调用处的date,formatDate(date) ,已经脱离关系了。<br>至于如何验证Date传址，下面是个例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a= new Date();</span><br><span class="line">console.log(a);</span><br><span class="line">b=a;</span><br><span class="line">b.setFullYear(2018);</span><br><span class="line">console.log(a);</span><br></pre></td></tr></table></figure>
<h3 id="伪元素after之content"><a href="#伪元素after之content" class="headerlink" title="伪元素after之content"></a>伪元素after之content</h3><p>本来的想法是，after里面放“<i>内容</i>”之内的html，结果发现不行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.selected::after &#123;</span><br><span class="line">      content: &quot;\e63e&quot;;</span><br><span class="line">      position: absolute;//能使用绝对定位</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="使用参数传递状态值"><a href="#使用参数传递状态值" class="headerlink" title="使用参数传递状态值"></a>使用参数传递状态值</h3><p>之前，从上个页面跳到页面来，上个页面直接将查询处理后结果传递过来，这样做，确实比较省事，但是问题：页面刷新，上个页面传递的数据就不存在了。</p>
<blockquote>
<p>变通：将其作为参数params来传递，传递一个资源值。是不是更好一点？</p>
</blockquote>
<h3 id="vue中使用过滤器"><a href="#vue中使用过滤器" class="headerlink" title="vue中使用过滤器"></a>vue中使用过滤器</h3><p>使用过滤器，对要展示的数据进行转换，这是另外一个地方，可以对数据进行转换。扩展：</p>
<ul>
<li>后端处理。Mysql的时候处理。</li>
<li>后端处理。php语言处理。</li>
<li>数据加载后，处理。Ajax后，立马组织数据。</li>
<li>计算属性，跟Ext中Store的convert属性作用差不多。</li>
<li>filter处理。这个跟Ext中renderer函数有点像，这个不会更改原数据。</li>
</ul>
<h2 id="vuex使用"><a href="#vuex使用" class="headerlink" title="vuex使用"></a>vuex使用</h2><p>vuex的出现，主要解决的问题是，多组件之间的通信问题。在未引入vuex之前，组件的通信：父组件→子组件，通过props向子组件传递，而子组件→父组件就必须通过事件触发$emit的方式进行传递。如果兄弟组件通信，需要利用父组件进行中转，如果是更复杂的组件之间通信，方式非常麻烦。为了解决这个问题，引入了store的概念。官方手册中，讲解了可以定义一个共享的store，然后其他的组件，直接使用store的state属性来初始化变量，直接更改state并共享，这种方式，非常不利于排查问题。所以建议，所有更改必须通过一个方法来触发，这样可以跟踪变量。</p>
<p>vuex中共有五个概念：</p>
<ul>
<li>State：共享的数据。这个是所有需要通信的组件，共享此属性内的组件。（js对象变量传址方式传递值。但是，不要直接操纵变量来更改）</li>
<li>Getter:提供数据转换的方法。（类似Ext中store的fields的convert方法），共享此方法，过滤、转换等作用。</li>
<li>Mutaction方法。（突变）。主要用来更改状态。（不能使用延时的操作）。2019/3/11</li>
<li>Action。跟Mutaction最大的区别，允许有一步操作，操作结束并不直接更改State中的数据，而是commit去调用Mutaction更改变化，返回的是Promise。</li>
<li>Module。模块，用来组织多个组件共享的方式。分模块。</li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/17/php常用函数/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/03/17/shell_note/" rel="prev" title="">
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">chaofml</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">70</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#vue-学习笔记"><span class="nav-number">1.</span> <span class="nav-text">vue 学习笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#以下代码中，如果传递参数"><span class="nav-number">1.0.1.</span> <span class="nav-text">以下代码中，如果传递参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用图标展示数据"><span class="nav-number">1.0.2.</span> <span class="nav-text">使用图标展示数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动态组件"><span class="nav-number">1.0.3.</span> <span class="nav-text">动态组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#v-for使用"><span class="nav-number">1.0.4.</span> <span class="nav-text">v-for使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MintUI日期选择控件使用"><span class="nav-number">1.0.5.</span> <span class="nav-text">MintUI日期选择控件使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增加字体"><span class="nav-number">1.0.6.</span> <span class="nav-text">增加字体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MintUI封装picker的例子"><span class="nav-number">1.0.7.</span> <span class="nav-text">MintUI封装picker的例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全局引入第三方库"><span class="nav-number">1.0.8.</span> <span class="nav-text">全局引入第三方库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#canvas清空画布的方法"><span class="nav-number">1.0.9.</span> <span class="nav-text">canvas清空画布的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用mint-ui中的swipe"><span class="nav-number">1.0.10.</span> <span class="nav-text">引用mint-ui中的swipe</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#div单行显示"><span class="nav-number">1.0.11.</span> <span class="nav-text">div单行显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用的圣杯布局、双飞布局"><span class="nav-number">1.0.12.</span> <span class="nav-text">常用的圣杯布局、双飞布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#keep-alive属性"><span class="nav-number">1.0.13.</span> <span class="nav-text">keep-alive属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mint-ui中的切换卡片按钮"><span class="nav-number">1.0.14.</span> <span class="nav-text">mint-ui中的切换卡片按钮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mint-ui中的Indicator"><span class="nav-number">1.0.15.</span> <span class="nav-text">mint-ui中的Indicator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#感悟"><span class="nav-number">1.0.16.</span> <span class="nav-text">感悟</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#slot"><span class="nav-number">1.0.17.</span> <span class="nav-text">slot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用sass文件格式"><span class="nav-number">1.0.18.</span> <span class="nav-text">使用sass文件格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用overflow清除浮动"><span class="nav-number">1.0.19.</span> <span class="nav-text">使用overflow清除浮动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件绑定"><span class="nav-number">1.0.20.</span> <span class="nav-text">事件绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中使用手势库问题"><span class="nav-number">1.0.21.</span> <span class="nav-text">vue中使用手势库问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中引入图片"><span class="nav-number">1.0.22.</span> <span class="nav-text">vue中引入图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面跳转“保活”功能"><span class="nav-number">1.0.23.</span> <span class="nav-text">页面跳转“保活”功能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#临时解决办法"><span class="nav-number">1.0.23.1.</span> <span class="nav-text">临时解决办法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导航守位"><span class="nav-number">1.0.24.</span> <span class="nav-text">导航守位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于未修改，不提示直接返回"><span class="nav-number">1.0.25.</span> <span class="nav-text">关于未修改，不提示直接返回</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#serviceworker"><span class="nav-number">1.0.26.</span> <span class="nav-text">serviceworker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手机端禁止缩放"><span class="nav-number">1.0.27.</span> <span class="nav-text">手机端禁止缩放</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中引入包的先后顺序"><span class="nav-number">1.0.28.</span> <span class="nav-text">vue中引入包的先后顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#监控返回事件"><span class="nav-number">1.0.29.</span> <span class="nav-text">监控返回事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式化时间代码优化"><span class="nav-number">1.0.30.</span> <span class="nav-text">格式化时间代码优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#伪元素after之content"><span class="nav-number">1.0.31.</span> <span class="nav-text">伪元素after之content</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用参数传递状态值"><span class="nav-number">1.0.32.</span> <span class="nav-text">使用参数传递状态值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vue中使用过滤器"><span class="nav-number">1.0.33.</span> <span class="nav-text">vue中使用过滤器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vuex使用"><span class="nav-number">1.1.</span> <span class="nav-text">vuex使用</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chaofml</span>

  

  
</div>








  <div class="footer-custom">一个业余的程序员</div>


        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.6.0"></script>
<script src="/js/src/post-details.js?v=6.6.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  











  





  

  

  

  

  

  
  

  

  
  <script src="/js/src/js.cookie.js?v=6.6.0"></script>
  <script src="/js/src/scroll-cookie.js?v=6.6.0"></script>


  

  

  

  

</body>
</html>
