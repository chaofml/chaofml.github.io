<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>socat | 超凡魔力</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这是一个网络工具，类似与nc等工具（netcat）。但是功能又比较的强大。我记得第一次用这种类似的软件是nc，当时是用来传输文件，怎么没有成功。从名字上看，像是socket cat的缩写。所以，用法上，就想成cat，不过它的输入跟输出，可以非常的多。而且还能fork、reuseaddr等。 凡是跟网络有关的软件，我个人感觉都比较的难理解，比如，ssh -D 代理、frp、ngork、甚至nginx">
<meta property="og:type" content="article">
<meta property="og:title" content="socat">
<meta property="og:url" content="https://blog.chaofml.cn/2021/07/03/shell/socat/index.html">
<meta property="og:site_name" content="超凡魔力">
<meta property="og:description" content="这是一个网络工具，类似与nc等工具（netcat）。但是功能又比较的强大。我记得第一次用这种类似的软件是nc，当时是用来传输文件，怎么没有成功。从名字上看，像是socket cat的缩写。所以，用法上，就想成cat，不过它的输入跟输出，可以非常的多。而且还能fork、reuseaddr等。 凡是跟网络有关的软件，我个人感觉都比较的难理解，比如，ssh -D 代理、frp、ngork、甚至nginx">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-07-03T10:29:57.000Z">
<meta property="article:modified_time" content="2023-01-20T08:15:40.127Z">
<meta property="article:author" content="chaofml">
<meta property="article:tag" content="转载">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="超凡魔力" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">超凡魔力</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.chaofml.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-shell/socat" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/03/shell/socat/" class="article-date">
  <time datetime="2021-07-03T10:29:57.000Z" itemprop="datePublished">2021-07-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      socat
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这是一个网络工具，类似与nc等工具（netcat）。但是功能又比较的强大。我记得第一次用这种类似的软件是nc，当时是用来传输文件，怎么没有成功。从名字上看，像是socket cat的缩写。所以，用法上，就想成cat，不过它的输入跟输出，可以非常的多。而且还能fork、reuseaddr等。</p>
<p>凡是跟网络有关的软件，我个人感觉都比较的难理解，比如，ssh -D 代理、frp、ngork、甚至nginx的复杂代理设置等。</p>
<p>不过发现，这个软件，最多用的就是</p>
<p><code>socat TCP4-LISTEN:44444,reuseaddr,fork, TCP4:10.0.42.1:44444</code></p>
<a id="more"></a>



<h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/wuheshi/article/details/107364998">socat详解</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/347722248">新版瑞士军刀：socat</a></li>
<li><a target="_blank" rel="noopener" href="http://www.dest-unreach.org/socat/">好像是英文的官网，感觉比较权威</a></li>
</ul>
<p>socat，是linux下的一个工具，其功能与有“瑞士军刀”之称的netcat类似，不过据说可以看做netcat的加强版。的确如此，它有一些netcat所不具备却又很有需求的功能，例如ssl连接这种。nc可能是因为比较久没有维护，确实显得有些陈旧了。</p>
<h1 id="socat详解"><a href="#socat详解" class="headerlink" title="socat详解"></a>socat详解</h1><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> socat

yum <span class="token function">install</span> -y socat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>也可以去官网下载源码包socat link :<a target="_blank" rel="noopener" href="http://www.dest-unreach.org/socat/">http://www.dest-unreach.org/socat/</a></p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat <span class="token punctuation">[</span>options<span class="token punctuation">]</span> address address<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>


<p>其中这2个address就是关键，输入、输出，把它暂时想象成cat的用法，如果要解释的话，address就类似于一个文件描述符，socat所做的工作就是在2个address指定的描述符间建立一个pipe用于发送和接收数据。</p>
<h3 id="address"><a href="#address" class="headerlink" title="address"></a>address</h3><p>address的描述就是socat的精髓所在，几个常用的描述方式如下：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"> <span class="token comment">#　：表示标准输入输出，可以就用一个横杠代替，这个就不用多说了吧….</span>
-,STDIN,STDOUT
<span class="token comment"># : 也可以是任意路径，如果是相对路径要使用./，打开一个文件作为数据流。（绝对路径、./相对路径能识别）</span>
/var/log/syslog 
<span class="token comment"># : 建立一个TCP连接作为数据流，TCP也可以替换为UDP   格式  TCP:ip:prot</span>
TCP:: 
<span class="token comment"># : 建立TCP监听端口，TCP也可以替换为UDP</span>
TCP-LISTEN: 
<span class="token comment"># : 执行一个程序作为数据流。</span>
EXEC: <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>上面的命令，不区分大小写。TCP、EXEC等都可以小写。</p>
<p>在这些描述后可以附加一些选项，用逗号隔开，如fork,reuseaddr,stdin,stdout,ctty等。</p>
<blockquote>
<p>由于地址有多种格式，所以呢，写的格式肯定要有区分度，否则它可能不知道你要干啥。如：myfile.txt不能直接拿来做地址，而是<code>./myfile.txt</code>。</p>
<p>两个地址的数据流串起来，都可以作为输入、输出。</p>
</blockquote>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><h3 id="直接回显"><a href="#直接回显" class="headerlink" title="直接回显"></a>直接回显</h3><p>socat当cat，从输入、输出中输出</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat - -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="cat文件"><a href="#cat文件" class="headerlink" title="cat文件"></a>cat文件</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 写，下面执行一瞬间就结束了，文件中没有任何内容。</span>
socat - /home/user/chuck
<span class="token comment"># 显示文件内容</span>
socat ./socat.txt -<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token builtin class-name">echo</span> <span class="token string">"hello"</span> <span class="token operator">|</span> socat - /home/user/chuck<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="socat当netcat"><a href="#socat当netcat" class="headerlink" title="socat当netcat"></a>socat当netcat</h2><p>下面演示</p>
<h3 id="连接远程端口"><a href="#连接远程端口" class="headerlink" title="连接远程端口"></a>连接远程端口</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nc</span> localhost <span class="token number">80</span>
socat - TCP:localhost:80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>自己测试：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://10.131.236.12:49416/">http://10.131.236.12:49416/</a>   地址是我搭建的nginx服务，简单的理解是一个静态页面。然后使用下面的方式，请求服务器，能正常的返回http请求内容。</p>
</blockquote>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat - TCP:10.131.236.12:49416
<span class="token comment"># 随后输入下面的内容</span>
GET / HTTP/1.1
Host: <span class="token number">10.131</span>.236.12:49416
Connection: keep-alive<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="监听端口"><a href="#监听端口" class="headerlink" title="监听端口"></a>监听端口</h3><p>作为一个服务端，从tcp中读内容，然后在标准的输出，输出内容。</p>
<blockquote>
<p>第二个地址，如果改造一下，可能还能传输文件。</p>
</blockquote>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nc</span> -lp localhost <span class="token number">700</span>
socat TCP-LISTEN:700 -<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="正向shell"><a href="#正向shell" class="headerlink" title="正向shell"></a>正向shell</h3><p>输出，是执行本地的bash，而输出是作为一个tcp服务端。效果：其他用户通过tcp，连上该机器，然后直接可以执行命令，（不需要登录、加密）</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nc</span> -lp localhost <span class="token number">700</span> -e /bin/bash
socat TCP-LISTEN:700 EXEC:/bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="反弹shell"><a href="#反弹shell" class="headerlink" title="反弹shell"></a>反弹shell</h3><p>tcp-conect第一次用，难道是表示主动连接一个地址，然后将该通道的输出，打到第二个上</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">nc</span> localhost <span class="token number">700</span> -e /bin/bash
socat tcp-connect:localhost:700 exec:<span class="token string">'bash -li'</span>,pty,stderr,setsid,sigint,sane<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="代理与转发"><a href="#代理与转发" class="headerlink" title="代理与转发"></a>代理与转发</h3><p>将本地80端口转发到远程的80端口</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat TCP-LISTEN:80,fork TCP:www.domain.org:80<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="SSL连接"><a href="#SSL连接" class="headerlink" title="SSL连接"></a>SSL连接</h2><p>其实从这里才是重点</p>
<h3 id="SSL服务器"><a href="#SSL服务器" class="headerlink" title="SSL服务器"></a>SSL服务器</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat OPENSSL-LISTEN:443,cert<span class="token operator">=</span>/cert.pem -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>


<p>需要首先生成证书文件</p>
<p>SSL客户端</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat - OPENSSL:localhost:443<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>




<h3 id="fork服务器"><a href="#fork服务器" class="headerlink" title="fork服务器"></a>fork服务器</h3><p>接下来这个例子，就是我认识socat的原因，可以将一个使用标准输入输出的单进程程序变为一个使用fork方法的多进程服务，非常方便。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat TCP-LISTEN:1234,reuseaddr,fork EXEC:./helloworld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="不同设备的通信"><a href="#不同设备的通信" class="headerlink" title="不同设备的通信"></a>不同设备的通信</h2><h3 id="将U盘进行网络共享"><a href="#将U盘进行网络共享" class="headerlink" title="将U盘进行网络共享"></a>将U盘进行网络共享</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat -d -d /dev/ttyUSB1,raw,nonblock,ignoreeof,cr,echo<span class="token operator">=</span><span class="token number">0</span> TCP4-LISTEN:5555,reuseaddr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>-d -d 指的是调试信息的级别</p>
<h3 id="将终端转发到COM1"><a href="#将终端转发到COM1" class="headerlink" title="将终端转发到COM1"></a>将终端转发到COM1</h3><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat READLINE,history<span class="token operator">=</span><span class="token environment constant">$HOME</span>/.cmd_history /dev/ttyS0,raw,echo<span class="token operator">=</span><span class="token number">0</span>,crnl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>socat还有个readbyte的option，这样就可以当dd用了。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>因为在Linux/UNIX中，一切都是文件，无论是socket还是其他设备。所以从理论上来说，一切能够在文件层级访问的内容都可以成为socat的数据流的来源，2个address可以任意发挥，能够做到的事情还有很多。特别是其fork的功能，确实是netcat所不能比的。</p>
<p>参考文献<br>借鉴的几篇博文：</p>
<p>Some Useful Socat Commands</p>
<p>Socat: A very powerful networking tool</p>
<p>Socat Examples</p>
<p>其他内容，可以参考socat man page</p>
<h1 id="新版瑞士军刀：socat"><a href="#新版瑞士军刀：socat" class="headerlink" title="新版瑞士军刀：socat"></a>新版瑞士军刀：socat</h1><p>我在《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/83959309">用好你的瑞士军刀：netcat</a>》中介绍过 nc 和它的几个实现（bsd, gnu, nmap），netcat 还有一个最重要的变种 socat （socket cat），值得花一篇完整的文章介绍一下，它不仅语义统一，功能灵活，除了完成 nc 能完成的所有任务外，还有很多实用的用法：</p>
<h2 id="基本命令就是："><a href="#基本命令就是：" class="headerlink" title="基本命令就是："></a>基本命令就是：</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat <span class="token punctuation">[</span>参数<span class="token punctuation">]</span>  <span class="token operator">&lt;</span>地址<span class="token operator"><span class="token file-descriptor important">1</span>></span>  <span class="token operator">&lt;</span>地址<span class="token operator"><span class="token file-descriptor important">2</span>></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>使用 socat 需要提供两个地址，然后 socat 做的事情就是把这两个地址的数据流串起来，把第左边地址的输出数据传给右边，同时又把右边输出的数据传到左边。</p>
<p>最简单的地址就是一个减号“-”，代表标准输入输出，而在命令行输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat - -              <span class="token comment"># 把标准输入和标准输出对接，输入什么显示什么</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>就会对接标准输入和标准输出，你键盘敲什么屏幕上就显示什么，类似无参数的 <code>cat</code> 命令。除了减号地址外，socat 还支持：<code>TCP</code>, <code>TCP-LISTEN</code>, <code>UDP</code>, <code>UDP-LISTEN</code>, <code>OPEN</code>, <code>EXEC</code>, <code>SOCKS</code>, <code>PROXY</code> 等多种地址，用于端口监听、链接，文件和进程读写，代理桥接等等。</p>
<p>因此使用 socat 其实就是学习各类地址的定义及搭配方法，我们继续以实用例子开始。</p>
<h2 id="网络测试"><a href="#网络测试" class="headerlink" title="网络测试"></a>网络测试</h2><p>这个类似 nc 的连通性测试，两台主机到底网络能否联通：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat - TCP-LISTEN:8080               <span class="token comment"># 终端1 上启动 server 监听 TCP</span>
socat - TCP:localhost:8080            <span class="token comment"># 终端2 上启动 client 链接 TCP</span>

<span class="token comment"># 根据上面的例子，自己在两台机器上测试。 两台机器的域名设置为h93、h就94</span>
<span class="token comment"># 94机器上</span>
socat - TCP-LISTEN:8080   
<span class="token comment"># 93机器上，下面的两种顺序都行。</span>
socat TCP:h94:8082 -
socat - TCP:h94:8082<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在终端 1 上输入第一行命令作为服务端，并在终端 2 上输入第二行命令作为客户端去链接。</p>
<p>联通后在终端2上随便输入点什么，就能显示在终端1上，反之亦然，因为两条命令都是把标准输入输出和网络串起来，因此把两个地址交换一下也是等价的：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:8080 -               <span class="token comment"># 终端1 上启动 server 监听 TCP</span>
socat TCP:localhost:8080 -            <span class="token comment"># 终端2 上启动 client 链接 TCP</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>因为 socat 就是把左右两个地址的输入输出接在一起，因此颠倒左右两个地址影响不大，除非前面指明 <code>-u</code> 或者 <code>-U</code> 显示指明数据“从左到右”还是“从右到左”。</p>
<p>同 netcat 一样，如果客户端结束的话，服务端也会结束，但是 socat 还可以加额外参数：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat - TCP-LISTEN:8080,fork,reuseaddr      <span class="token comment"># 终端1 上启动 server</span>
socat - TCP:localhost:8080                  <span class="token comment"># 终端2 上启动 client</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>服务端在 <code>TCP-LISTEN</code> 地址后面加了 <code>fork</code> 的参数后，就能同时应答多个链接过来的客户端，每个客户端会 fork 一个进程出来进行通信，加上 <code>reuseaddr</code> 可以防止链接没断开玩无法监听的问题。</p>
<p>刚才也说了使用 socat 主要就是学习描述各种地址，那么想测试 UDP 的话修改一下就行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat - UDP-LISTEN:8080               <span class="token comment"># 终端1 上启动 server 监听 UDP</span>
socat - UDP:localhost:8080            <span class="token comment"># 终端2 上启动 client 链接 UDP</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>即可进行测试。</p>
<h2 id="端口转发"><a href="#端口转发" class="headerlink" title="端口转发"></a>端口转发</h2><p>在主机上监听一个 8080 端口，将 8080 端口所有流量转发给远程机器的 80 端口：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:8080,fork,reuseaddr  TCP:192.168.1.3:80<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>那么连到这台机器上 8080 端口的所有链接，相当于链接了 192.168.1.3 这台机器的 80 端口，命令中交换左右两个地址一样是等价的。</p>
<p>这里 socat 比 nc 强的地方就体现出来了，nc 做转发时只能转发 1 次，第一条链接 accept 并且关闭以后 nc 就退出了，无法接受新链接，因此 nc 只适合单次使用。而 socat 加上 <code>fork</code> 以后，每次 accept 一个链接都会 fork 出一份来不影响接收其他的新连接，这样 socat 就可以当一个端口转发服务，一直启动在那里。还可以用 supervisor 托管起来，开机自动启动。</p>
<p>还可以用这个功能暴露一些 127.0.0.1 的端口出来供外面访问，比起 nc 的临时救急使用一下的场景，socat 是可以当一个服务长期运行的。</p>
<h2 id="远程登录"><a href="#远程登录" class="headerlink" title="远程登录"></a>远程登录</h2><p>地址除了 <code>TCP</code> 和 <code>TCP-LISTEN</code> 外，另外一个重要的地址类型就是 <code>EXEC</code> 可以执行程序并且把输入输出和另外一个地址串起来，比如服务端：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:8080,fork,reuseaddr  EXEC:/usr/bin/bash    <span class="token comment"># 服务端提供 shell</span>
socat - TCP:localhost:8080                                  <span class="token comment"># 客户端登录</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>完善一点可以加些参数：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:8080,fork,reuseaddr  EXEC:/usr/bin/bash,pty,stderr   <span class="token comment"># 服务端</span>
socat file:<span class="token variable"><span class="token variable">`</span><span class="token function">tty</span><span class="token variable">`</span></span>,raw,echo<span class="token operator">=</span><span class="token number">0</span> TCP:localhost:8080                        <span class="token comment"># 客户端</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这样可以把 bash 的标准错误重定向给标准输出，并且用终端模式运行。客户端可以像刚才那样登录，但是还可以更高级点，用 tty 的方式访问，这样基本就得到了一个全功能的交互式终端了，可以在里面运行 vim, emacs 之类的程序。</p>
<p>更高级一点，使用 root 运行：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:23,reuseaddr,fork,crlf exec:/bin/login,pty,setsid,setpgid,stderr,ctty<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>相当于在 23 端口启动了一个 telnetd 的服务，可以用 telnet 客户端来链接。</p>
<h2 id="网页服务"><a href="#网页服务" class="headerlink" title="网页服务"></a>网页服务</h2><p>首先编写一个脚本：<a href="https://link.zhihu.com/?target=http://web.sh/">web.sh</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#! /bin/bash</span>
<span class="token builtin class-name">echo</span> -e -n <span class="token string">"HTTP/1.0 200<span class="token entity" title="\r">\r</span><span class="token entity" title="\n">\n</span>"</span>
<span class="token builtin class-name">echo</span> -e -n <span class="token string">"Content-Type:text/html<span class="token entity" title="\r">\r</span><span class="token entity" title="\n">\n</span>"</span>
<span class="token builtin class-name">echo</span> -e -n <span class="token string">"<span class="token entity" title="\r">\r</span><span class="token entity" title="\n">\n</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"&lt;html>&lt;body>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"now is <span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"&lt;/body>&lt;/html>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>这里我们用 <code>SYSTEM</code> 地址类型代替原来的 <code>EXEC</code> 执行命令，因为可以后面写 shell 命令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:8080,fork,reuseaddr SYSTEM:<span class="token string">"bash web.sh"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这时你就可以用浏览器访问：<a href="https://link.zhihu.com/?target=http://localhost:8080/">http://localhost:8080</a> 的端口了。</p>
<p>相当于每次请求的时候，socat 都会 fork 一个进程出来然后执行后面的命令，启动上面的脚本程序，并且将脚本的标准输入输出重定向给网络链接。</p>
<p>相当于原始的 cgi 程序了，我们可以用 shell 直接完成一个 cgi 程序并由 socat 提供 cgi 服务，偶然需要暴露一些服务器信息的话，可以这样弄一下，返回的 html 里搞一个自动刷新，然后打开浏览器，实时监控服务器的情况。</p>
<h2 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h2><p>临时需要传输下文件，无需 scp：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat -u TCP-LISTEN:8080 open:record.log,create    <span class="token comment"># 服务端接收文件</span>
socat -u open:record.log TCP:localhost:8080        <span class="token comment"># 客户端发送文件</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这里用了 <code>-u</code> 参数，意思是数据从左边的地址单向传输到右边的地址，大写 <code>-U</code> 的话是从右边单向传输到左边。</p>
<h2 id="透明代理"><a href="#透明代理" class="headerlink" title="透明代理"></a>透明代理</h2><p>第一句是用于 socks 代理的，第二句用于 HTTP 代理：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:<span class="token operator">&lt;</span>本地端口<span class="token operator">></span>,reuseaddr,fork SOCKS:<span class="token operator">&lt;</span>代理服务器IP<span class="token operator">></span>:<span class="token operator">&lt;</span>远程地址<span class="token operator">></span>:<span class="token operator">&lt;</span>远程端口<span class="token operator">></span>,socksport<span class="token operator">=</span><span class="token operator">&lt;</span>代理服务器端口<span class="token operator">></span>
socat TCP-LISTEN:<span class="token operator">&lt;</span>本地端口<span class="token operator">></span>,reuseaddr,fork PROXY:<span class="token operator">&lt;</span>代理服务器IP<span class="token operator">></span>:<span class="token operator">&lt;</span>远程地址<span class="token operator">></span>:<span class="token operator">&lt;</span>远程端口<span class="token operator">></span>,proxyport<span class="token operator">=</span><span class="token operator">&lt;</span>代理服务器端口<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>他们都可以把本地端口的请求转换成使用代理服务器访问的请求，比如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">socat TCP-LISTEN:1234,fork SOCKS4A:127.0.0.1:google.com:80,socksport<span class="token operator">=</span><span class="token number">5678</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>那么链接本地的 1234 端口，相当于通过代理服务器 127.0.0.1:5678 去链接 <a href="https://link.zhihu.com/?target=http://google.com/">google.com</a> 的 80 端口了，这里用了 <code>SOCKS4A</code> ，后面 <code>A</code> 的意思是让代理服务器去解析域名。</p>
<h2 id="其他用途"><a href="#其他用途" class="headerlink" title="其他用途"></a>其他用途</h2><p>还有很多高级用法，比如用 socat 一键开启 vpn 网络，使用 socat 将 ssl 流量转化为裸的 tcp 流量等等，可以参考官方文档。不难发现，上面几个用法都比原始的 nc 要强很多，但是 nc 更小巧一些，也更容易获得：不管是路由器上，还是 busybox 的内置命令中，还是 nmap 工具包，都有 nc 的存在。</p>
<p>所以很多时候条件限制可能你只有 netcat 可以使用，那么就用 netcat，其他时候看你哪个用的更熟练一些就用哪个。不管端口转发还是传文件，还是透明代理，每项其实都有专业的软件可以用，但 netcat/socat 用熟了以后，他们的灵活度非常大，能够搭配组合出千变万化的功能来，在你只是偶尔需要处理某件事情，又不想或者无法安装专用软件的情况下，完全可以使用这两个工具完成很多任务。</p>
<p>所以，socat / netcat 还有 tcpdump 一起，可以说是最值得掌握的三条网络命令。</p>
<h1 id="自己用的例子"><a href="#自己用的例子" class="headerlink" title="自己用的例子"></a>自己用的例子</h1><h2 id="端口转发-1"><a href="#端口转发-1" class="headerlink" title="端口转发"></a>端口转发</h2><p>执行socat的机器，作为跳板机，代理远程的<code>10.0.42.1</code>机器。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">socat TCP4-LISTEN:44444,reuseaddr,fork  TCP4:10.0.42.1:44444<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<p>下面的反向代理代码还没有想好。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 服务端</span>
socat TCP4-LISTEN:44444,reuseaddr,fork  TCP:3333
<span class="token comment"># 本地</span>
socat TCP4-CONNECT:110.20.26.94:44444,reuseaddr,fork TCP4:localhost:22<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.chaofml.cn/2021/07/03/shell/socat/" data-id="cld48zeht00il11o04ens0rdd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/07/06/docker/php/%E6%90%AD%E5%BB%BAphp%E7%A0%94%E5%8F%91%E7%8E%AF%E5%A2%83/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          搭建php研发环境
        
      </div>
    </a>
  
  
    <a href="/2021/07/01/openapi/openapi/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">openapi</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/docker/%E6%B8%85%E7%90%86/">清理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-tools/">python - tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%AD%A3%E5%88%99/">正则</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/">转载</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/shell/">shell</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">-shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkinsfile/" rel="tag">Jenkinsfile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">K8s学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/" rel="tag">apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/array/" rel="tag">array</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bs4/" rel="tag">bs4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/" rel="tag">c</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/celery/" rel="tag">celery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chmod/" rel="tag">chmod</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chown/" rel="tag">chown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/conf/" rel="tag">conf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/copy/" rel="tag">copy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csv/" rel="tag">csv</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cygwin/" rel="tag">cygwin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/db/" rel="tag">db</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/default/" rel="tag">default</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-php/" rel="tag">docker php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-weblogic/" rel="tag">docker weblogic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/emoji/" rel="tag">emoji</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es/" rel="tag">es</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ext/" rel="tag">ext</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/extjs/" rel="tag">extjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/for/" rel="tag">for</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/" rel="tag">go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gp/" rel="tag">gp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greenplum/" rel="tag">greenplum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gzip/" rel="tag">gzip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/host/" rel="tag">host</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ingore/" rel="tag">ingore</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/install/" rel="tag">install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/" rel="tag">json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ldap/" rel="tag">ldap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lua/" rel="tag">lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lxml/" rel="tag">lxml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/md5/" rel="tag">md5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openapi/" rel="tag">openapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openssl/" rel="tag">openssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/other/" rel="tag">other</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pdo/" rel="tag">pdo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pg/" rel="tag">pg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php-%E6%89%A9%E5%B1%95/" rel="tag">php 扩展</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php-%E6%8F%92%E4%BB%B6/" rel="tag">php 插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/" rel="tag">pip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postgre/" rel="tag">postgre</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postgresql/" rel="tag">postgresql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rancher/" rel="tag">rancher</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests/" rel="tag">requests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restful-api/" rel="tag">restful api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session/" rel="tag">session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socat/" rel="tag">socat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/split/" rel="tag">split</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlite/" rel="tag">sqlite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/static/" rel="tag">static</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tar/" rel="tag">tar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/think/" rel="tag">think</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tmux/" rel="tag">tmux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/underscope/" rel="tag">underscope</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vb/" rel="tag">vb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue3/" rel="tag">vue3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yum/" rel="tag">yum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%9A%E5%8A%A1/" rel="tag">业务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA/" rel="tag">个人</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%8C%BA%E8%A1%A8/" rel="tag">分区表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%90%8C%E6%AD%A5/" rel="tag">同步</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" rel="tag">大数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%BC%E8%88%AA/" rel="tag">导航</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%93%E5%8C%85/" rel="tag">打包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E6%9D%BF/" rel="tag">模板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BA%E6%A0%BC/" rel="tag">空格</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag">语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B/" rel="tag">进程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/shell/" style="font-size: 10px;">-shell</a> <a href="/tags/Jenkinsfile/" style="font-size: 10px;">Jenkinsfile</a> <a href="/tags/K8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">K8s学习笔记</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/array/" style="font-size: 10px;">array</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/bs4/" style="font-size: 10px;">bs4</a> <a href="/tags/c/" style="font-size: 10px;">c</a> <a href="/tags/celery/" style="font-size: 10px;">celery</a> <a href="/tags/chmod/" style="font-size: 10px;">chmod</a> <a href="/tags/chown/" style="font-size: 10px;">chown</a> <a href="/tags/conf/" style="font-size: 10px;">conf</a> <a href="/tags/copy/" style="font-size: 10px;">copy</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/csv/" style="font-size: 12.31px;">csv</a> <a href="/tags/cygwin/" style="font-size: 10px;">cygwin</a> <a href="/tags/db/" style="font-size: 10px;">db</a> <a href="/tags/default/" style="font-size: 13.85px;">default</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/docker/" style="font-size: 18.46px;">docker</a> <a href="/tags/docker-php/" style="font-size: 10px;">docker php</a> <a href="/tags/docker-weblogic/" style="font-size: 10px;">docker weblogic</a> <a href="/tags/emoji/" style="font-size: 10px;">emoji</a> <a href="/tags/es/" style="font-size: 10px;">es</a> <a href="/tags/ext/" style="font-size: 10px;">ext</a> <a href="/tags/extjs/" style="font-size: 11.54px;">extjs</a> <a href="/tags/for/" style="font-size: 10.77px;">for</a> <a href="/tags/git/" style="font-size: 11.54px;">git</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/gp/" style="font-size: 10.77px;">gp</a> <a href="/tags/greenplum/" style="font-size: 11.54px;">greenplum</a> <a href="/tags/gzip/" style="font-size: 10px;">gzip</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/host/" style="font-size: 10px;">host</a> <a href="/tags/ingore/" style="font-size: 10px;">ingore</a> <a href="/tags/install/" style="font-size: 10.77px;">install</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/java/" style="font-size: 10.77px;">java</a> <a href="/tags/js/" style="font-size: 15.38px;">js</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/k8s/" style="font-size: 12.31px;">k8s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/ldap/" style="font-size: 10px;">ldap</a> <a href="/tags/linux/" style="font-size: 12.31px;">linux</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/lxml/" style="font-size: 10px;">lxml</a> <a href="/tags/md5/" style="font-size: 10px;">md5</a> <a href="/tags/mysql/" style="font-size: 14.62px;">mysql</a> <a href="/tags/nginx/" style="font-size: 13.85px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/openapi/" style="font-size: 10px;">openapi</a> <a href="/tags/openssl/" style="font-size: 10px;">openssl</a> <a href="/tags/other/" style="font-size: 13.85px;">other</a> <a href="/tags/pdo/" style="font-size: 10px;">pdo</a> <a href="/tags/pg/" style="font-size: 17.69px;">pg</a> <a href="/tags/php/" style="font-size: 16.92px;">php</a> <a href="/tags/php-%E6%89%A9%E5%B1%95/" style="font-size: 10px;">php 扩展</a> <a href="/tags/php-%E6%8F%92%E4%BB%B6/" style="font-size: 10px;">php 插件</a> <a href="/tags/pip/" style="font-size: 10.77px;">pip</a> <a href="/tags/postgre/" style="font-size: 10px;">postgre</a> <a href="/tags/postgresql/" style="font-size: 11.54px;">postgresql</a> <a href="/tags/python/" style="font-size: 19.23px;">python</a> <a href="/tags/rancher/" style="font-size: 10px;">rancher</a> <a href="/tags/redis/" style="font-size: 13.85px;">redis</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/restful-api/" style="font-size: 10.77px;">restful api</a> <a href="/tags/session/" style="font-size: 10px;">session</a> <a href="/tags/shell/" style="font-size: 20px;">shell</a> <a href="/tags/socat/" style="font-size: 10px;">socat</a> <a href="/tags/split/" style="font-size: 10px;">split</a> <a href="/tags/sql/" style="font-size: 16.15px;">sql</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/ssh/" style="font-size: 11.54px;">ssh</a> <a href="/tags/static/" style="font-size: 10px;">static</a> <a href="/tags/tar/" style="font-size: 10.77px;">tar</a> <a href="/tags/think/" style="font-size: 10px;">think</a> <a href="/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/tags/underscope/" style="font-size: 10px;">underscope</a> <a href="/tags/vb/" style="font-size: 10px;">vb</a> <a href="/tags/vim/" style="font-size: 10.77px;">vim</a> <a href="/tags/vue/" style="font-size: 11.54px;">vue</a> <a href="/tags/vue3/" style="font-size: 10px;">vue3</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/yum/" style="font-size: 10px;">yum</a> <a href="/tags/%E4%B8%9A%E5%8A%A1/" style="font-size: 10px;">业务</a> <a href="/tags/%E4%B8%AA%E4%BA%BA/" style="font-size: 10px;">个人</a> <a href="/tags/%E5%88%86%E5%8C%BA%E8%A1%A8/" style="font-size: 10px;">分区表</a> <a href="/tags/%E5%90%8C%E6%AD%A5/" style="font-size: 10px;">同步</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 13.08px;">大数据</a> <a href="/tags/%E5%AE%89%E8%A3%85/" style="font-size: 10px;">安装</a> <a href="/tags/%E5%AF%BC%E8%88%AA/" style="font-size: 10px;">导航</a> <a href="/tags/%E6%89%93%E5%8C%85/" style="font-size: 10px;">打包</a> <a href="/tags/%E6%A8%A1%E6%9D%BF/" style="font-size: 10px;">模板</a> <a href="/tags/%E7%A9%BA%E6%A0%BC/" style="font-size: 10px;">空格</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">编程语言</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">网络</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 10px;">语法</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size: 19.23px;">转载</a> <a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">进程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/20/pg/%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5%E5%88%B0%E5%88%86%E5%8C%BA/">数据插入到分区</a>
          </li>
        
          <li>
            <a href="/2022/10/09/shell/%E6%AD%A3%E5%88%99/">常用的正则表达式</a>
          </li>
        
          <li>
            <a href="/2022/09/22/other/%E8%BF%9C%E7%A8%8B%E5%8A%9E%E5%85%AC/">远程办公</a>
          </li>
        
          <li>
            <a href="/2022/09/20/apache/%E5%8E%8B%E6%B5%8B/">压测</a>
          </li>
        
          <li>
            <a href="/2022/09/14/shell/%E5%8E%8B%E7%BC%A9%E3%80%81%E8%A7%A3%E5%8E%8B/">压缩、解压</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 chaofml<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>