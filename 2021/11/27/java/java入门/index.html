<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.chaofml.cn","root":"/","images":"/images","scheme":"Muse","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>
<meta name="description" content="这一篇大杂烩的文章，大概是，一些小的零碎的知识点，或者入门的知识点，都会放到这个里面。">
<meta property="og:type" content="article">
<meta property="og:title" content="java入门">
<meta property="og:url" content="https://blog.chaofml.cn/2021/11/27/java/java%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="超凡魔力">
<meta property="og:description" content="这一篇大杂烩的文章，大概是，一些小的零碎的知识点，或者入门的知识点，都会放到这个里面。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-11-27T11:08:59.000Z">
<meta property="article:modified_time" content="2023-01-19T09:10:38.215Z">
<meta property="article:author" content="chaofml">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.chaofml.cn/2021/11/27/java/java%E5%85%A5%E9%97%A8/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>java入门 | 超凡魔力</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">超凡魔力</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">君子善思，善假于物，而不物于物。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95%E7%9F%A5%E8%AF%86"><span class="nav-number">1.</span> <span class="nav-text">语法知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#java8%E4%B8%AD%E6%8E%A5%E5%8F%A3%E7%9A%84default%E6%96%B9%E6%B3%95"><span class="nav-number">1.1.</span> <span class="nav-text">java8中接口的default方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrays-asList%E7%9A%84%E5%9D%91"><span class="nav-number">1.2.</span> <span class="nav-text">Arrays.asList的坑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java-vm"><span class="nav-number">2.</span> <span class="nav-text">java vm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#vm%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0"><span class="nav-number">2.1.</span> <span class="nav-text">vm启动参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring"><span class="nav-number">3.</span> <span class="nav-text">spring</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ConfigurationProperties"><span class="nav-number">3.1.</span> <span class="nav-text">ConfigurationProperties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%BE%E4%B8%8D%E5%88%B0annotation"><span class="nav-number">3.2.</span> <span class="nav-text">找不到annotation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AfterThrowing"><span class="nav-number">3.3.</span> <span class="nav-text">AfterThrowing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pointcut"><span class="nav-number">3.4.</span> <span class="nav-text">Pointcut</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jdbc"><span class="nav-number">4.</span> <span class="nav-text">jdbc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mybatis"><span class="nav-number">5.</span> <span class="nav-text">mybatis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90"><span class="nav-number">5.1.</span> <span class="nav-text">资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E6%9F%A5%E8%AF%A2%E6%A8%A1%E5%BC%8F"><span class="nav-number">5.2.</span> <span class="nav-text">两种查询模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xml%E8%BD%AC%E4%B9%89%E9%97%AE%E9%A2%98"><span class="nav-number">5.3.</span> <span class="nav-text">xml转义问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xml%E8%B5%84%E6%BA%90"><span class="nav-number">5.4.</span> <span class="nav-text">xml资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-config-xml"><span class="nav-number">5.5.</span> <span class="nav-text">mybatis-config.xml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapper"><span class="nav-number">5.6.</span> <span class="nav-text">mapper</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1count"><span class="nav-number">5.7.</span> <span class="nav-text">统计count</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E5%88%86%E9%A1%B5%E7%BB%93%E6%9E%9C"><span class="nav-number">5.8.</span> <span class="nav-text">返回分页结果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java%E6%A8%A1%E5%9E%8B%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%97"><span class="nav-number">5.9.</span> <span class="nav-text">java模型与数据库的列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java%E6%A8%A1%E5%9E%8B%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.10.</span> <span class="nav-text">java模型类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sql%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">5.11.</span> <span class="nav-text">sql中的字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis%EF%BC%8C%E5%8F%82%E6%95%B0%E4%B8%BA%E5%95%A5%E9%9C%80%E8%A6%81%E5%AE%9E%E4%BD%93%E7%B1%BB%EF%BC%9F"><span class="nav-number">5.12.</span> <span class="nav-text">mybatis，参数为啥需要实体类？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POOLED"><span class="nav-number">5.13.</span> <span class="nav-text">POOLED</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapper-namespace"><span class="nav-number">5.14.</span> <span class="nav-text">mapper namespace</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#springboot"><span class="nav-number">6.</span> <span class="nav-text">springboot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%88%87%E6%8D%A2"><span class="nav-number">6.1.</span> <span class="nav-text">配置文件切换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85"><span class="nav-number">6.2.</span> <span class="nav-text">资源打包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81service"><span class="nav-number">6.3.</span> <span class="nav-text">为什么需要service</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#https"><span class="nav-number">6.4.</span> <span class="nav-text">https</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#thymeleaf"><span class="nav-number">6.5.</span> <span class="nav-text">thymeleaf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%85%8D%E7%BD%AE"><span class="nav-number">6.6.</span> <span class="nav-text">静态资源访问配置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Idea%E5%B7%A5%E5%85%B7"><span class="nav-number">7.</span> <span class="nav-text">Idea工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-number">7.1.</span> <span class="nav-text">快捷键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E7%9A%84%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%89%93%E5%8C%85%E6%88%90jar"><span class="nav-number">7.2.</span> <span class="nav-text">普通的项目，打包成jar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E6%8A%A5%E9%94%99"><span class="nav-number">7.3.</span> <span class="nav-text">编译报错</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">8.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%E5%8A%A0%E5%AF%86"><span class="nav-number">8.1.</span> <span class="nav-text">数据库配置加密</span></a></li></ol></li></ol></div>
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">chaofml</p>
  <div class="site-description" itemprop="description">思绪偶尔会在这里停留</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">369</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.chaofml.cn/2021/11/27/java/java%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chaofml">
      <meta itemprop="description" content="思绪偶尔会在这里停留">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="超凡魔力">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          java入门
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-11-27 11:08:59" itemprop="dateCreated datePublished" datetime="2021-11-27T11:08:59+00:00">2021-11-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2023-01-19 09:10:38" itemprop="dateModified" datetime="2023-01-19T09:10:38+00:00">2023-01-19</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>这一篇大杂烩的文章，大概是，一些小的零碎的知识点，或者入门的知识点，都会放到这个里面。</p>
<a id="more"></a>

<h2 id="语法知识"><a href="#语法知识" class="headerlink" title="语法知识"></a>语法知识</h2><h3 id="java8中接口的default方法"><a href="#java8中接口的default方法" class="headerlink" title="java8中接口的default方法"></a>java8中接口的default方法</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhenghengbin/p/9398682.html">https://www.cnblogs.com/zhenghengbin/p/9398682.html</a></p>
<p>由下而查。</p>
<p>Java8中的接口允许存在default方法，因此官方建议我们直接实现WebMvcConfigurer接口，而不是继承WebMvcConfigurerAdapter 。</p>
<h3 id="Arrays-asList的坑"><a href="#Arrays-asList的坑" class="headerlink" title="Arrays.asList的坑"></a>Arrays.asList的坑</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/67224831">https://zhuanlan.zhihu.com/p/67224831</a></p>
<h2 id="java-vm"><a href="#java-vm" class="headerlink" title="java vm"></a>java vm</h2><h3 id="vm启动参数"><a href="#vm启动参数" class="headerlink" title="vm启动参数"></a>vm启动参数</h3><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/guyue35/article/details/107957859">https://blog.csdn.net/guyue35/article/details/107957859</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/juzii/p/5973516.html">https://www.cnblogs.com/juzii/p/5973516.html</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/fenglongmiao/article/details/80511512">https://blog.csdn.net/fenglongmiao/article/details/80511512</a></li>
</ul>
<p>注意，这部分参数是java后面的参数，而来不是class或jar包后面跟的参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java -Dfoo=<span class="string">&quot;hello world&quot;</span></span><br><span class="line">System.getProperty(<span class="string">&quot;foo&quot;</span>)</span><br></pre></td></tr></table></figure>





<h2 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h2><h3 id="ConfigurationProperties"><a href="#ConfigurationProperties" class="headerlink" title="ConfigurationProperties"></a>ConfigurationProperties</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yusimiao/article/details/97622666">https://blog.csdn.net/yusimiao/article/details/97622666</a></p>
<p>mybatis、jdbc配置多路数据源的时候，需要用到这个属性。</p>
<h3 id="找不到annotation"><a href="#找不到annotation" class="headerlink" title="找不到annotation"></a>找不到annotation</h3><p>定义操作时<code>@Before(value = &quot;@annotation(cn.chaofml.SpringAop.Anno.Action)&quot;)</code>，如果跟注解不在一个位置，需要使用绝对的名称。（Import都不行）</p>
<p>具体有坑的代码如下：注解跟LogAspect不在一个文件夹。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.chaofml.SpringAop.Anno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Action &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.chaofml.SpringAop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.Signature;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogAspect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注意，使用了绝对的路径</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;@annotation(cn.chaofml.SpringAop.Anno.Action)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(JoinPoint joinPoint)</span></span>&#123;</span><br><span class="line">        Signature signature = joinPoint.getSignature();</span><br><span class="line">        String name = signature.getName();</span><br><span class="line">        System.out.println(name + <span class="string">&quot;方法开始执行了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="AfterThrowing"><a href="#AfterThrowing" class="headerlink" title="AfterThrowing"></a>AfterThrowing</h3><p>捕捉到错误后，为啥还会终止。甚至around的这个方式，进行捕捉错误，仍然不能？</p>
<h3 id="Pointcut"><a href="#Pointcut" class="headerlink" title="Pointcut"></a>Pointcut</h3><p>一个<code>*</code>代表一个层级。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//貌似跟文件夹有关系  cn.chaofml.SpringAop.service.*.*  cn.chaofml.SpringAop.*.*</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* cn.chaofml.SpringAop.service.*.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pointcut</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(value = &quot;pointcut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(JoinPoint joinPoint)</span></span>&#123;</span><br><span class="line">        Signature signature = joinPoint.getSignature();</span><br><span class="line">        String name = signature.getName();</span><br><span class="line">        System.out.println(name + <span class="string">&quot;方法执行前&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>






<h2 id="jdbc"><a href="#jdbc" class="headerlink" title="jdbc"></a>jdbc</h2><p>jdbc</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String JDBC_URL = <span class="string">&quot;jdbc:mysql://10.172.26.15:3403/git?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String JDBC_USER = <span class="string">&quot;dev&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String JDBC_PASSWORD = <span class="string">&quot;KxD5hkqkZk9EHPhnkNS3&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"><span class="comment">//        test1();</span></span><br><span class="line"><span class="comment">//        test2();</span></span><br><span class="line"><span class="comment">//        insertItem();</span></span><br><span class="line"><span class="comment">//        updateItem();</span></span><br><span class="line">        deleteItem();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateItem</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">        PreparedStatement ps = conn.prepareStatement(<span class="string">&quot;update user set username = ? where id = ?&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">1</span>,<span class="string">&quot;罗小红&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">2</span>,<span class="number">23</span>);</span><br><span class="line">        <span class="keyword">int</span> i = ps.executeUpdate();<span class="comment">//返回影响的条目</span></span><br><span class="line">        ps.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteItem</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">        PreparedStatement ps = conn.prepareStatement(<span class="string">&quot;delete from user where id = ?&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">1</span>,<span class="number">23</span>);</span><br><span class="line">        <span class="keyword">int</span> i = ps.executeUpdate();</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        ps.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insertItem</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">        <span class="comment">// 需要返回主键，则需要添加额外的参数</span></span><br><span class="line">        PreparedStatement ps = conn.prepareStatement(<span class="string">&quot;insert into user (username,address) values (?,?)&quot;</span>,Statement.RETURN_GENERATED_KEYS);</span><br><span class="line">        ps.setObject(<span class="number">1</span>,<span class="string">&quot;张大胖&quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">2</span>,<span class="string">&quot;河南郑州&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> i = ps.executeUpdate();<span class="comment">//影响的条数</span></span><br><span class="line"></span><br><span class="line">        ResultSet rs = ps.getGeneratedKeys();</span><br><span class="line">        <span class="keyword">if</span> (rs.next())&#123;</span><br><span class="line">            <span class="keyword">long</span> id = rs.getLong(<span class="number">1</span>); <span class="comment">//返回的索引</span></span><br><span class="line">            System.out.println(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ps.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/******************</span></span><br><span class="line"><span class="comment">     * 使用普通的sql查询，未考虑注入风险</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SQLException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insert1</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">// JDBC连接的URL, 不同数据库有不同的格式  从静态变量中获取</span></span><br><span class="line">        <span class="comment">// 获取连接:</span></span><br><span class="line">        Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">        Statement statement = conn.createStatement(); <span class="comment">//stmt</span></span><br><span class="line">        ResultSet rs = statement.executeQuery(<span class="string">&quot;select * from user;&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">            Long id = rs.getLong(<span class="number">1</span>); <span class="comment">// 注意：索引从1开始</span></span><br><span class="line">            String username = rs.getString(<span class="number">2</span>);</span><br><span class="line">            String address = rs.getString(<span class="number">3</span>);</span><br><span class="line">            System.out.println(id+<span class="string">&quot;#&quot;</span>+username+<span class="string">&quot;#&quot;</span>+address);</span><br><span class="line">        &#125;</span><br><span class="line">        rs.close();</span><br><span class="line">        <span class="comment">// 关闭连接:</span></span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">inset2</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">        PreparedStatement ps = conn.prepareStatement(<span class="string">&quot;select * from user where username = ? &quot;</span>);</span><br><span class="line">        ps.setObject(<span class="number">1</span>,<span class="string">&quot;风云&quot;</span>);</span><br><span class="line">        ResultSet rs = ps.executeQuery();</span><br><span class="line">        <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">            <span class="keyword">long</span> id = rs.getLong(<span class="number">1</span>);</span><br><span class="line">            String username = rs.getString(<span class="number">2</span>);</span><br><span class="line">            String address = rs.getString(<span class="number">3</span>);</span><br><span class="line">            System.out.println(id +<span class="string">&quot;#&quot;</span>+username+<span class="string">&quot;#&quot;</span>+address);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="mybatis"><a href="#mybatis" class="headerlink" title="mybatis"></a>mybatis</h2><h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><ul>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">mybatis文档</a></li>
<li>江南一点雨-Mybatis入门教程</li>
</ul>
<h3 id="两种查询模式"><a href="#两种查询模式" class="headerlink" title="两种查询模式"></a>两种查询模式</h3><p>见 <a href="#namespace">mapper namespace</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SqlSessionFactory factory = SqlSessionFactoryUtils.getInstance();</span><br><span class="line">SqlSession sqlSession = factory.openSession();</span><br><span class="line">UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">Integer updateId = mapper.updateUserById(user);</span><br><span class="line">System.out.println(updateId);</span><br><span class="line">sqlSession.commit();</span><br></pre></td></tr></table></figure>



<h3 id="xml转义问题"><a href="#xml转义问题" class="headerlink" title="xml转义问题"></a>xml转义问题</h3><p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/xml/xml_cdata.asp">xml实体转义</a><br>预定义的实体引用</p>
<table>
<thead>
<tr>
<th>&lt;</th>
<th>&lt;</th>
<th>小于</th>
</tr>
</thead>
<tbody><tr>
<td>&gt;</td>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&amp;</td>
<td>&amp;</td>
<td>和号</td>
</tr>
<tr>
<td>&apos;</td>
<td>‘</td>
<td>省略号</td>
</tr>
<tr>
<td>&quot;</td>
<td>“</td>
<td>引号</td>
</tr>
</tbody></table>
<p>上面的符号，不能出现在内容区域，需要进行转义，避免跟xml的标记出现冲突。</p>
<h3 id="xml资源"><a href="#xml资源" class="headerlink" title="xml资源"></a>xml资源</h3><p>mapper，xml跟java代码放在一起，不在resoures目录下，需要配置pom.xml，如下：</p>
<blockquote>
<p>“main” org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): wayne_app.demo3.mapper.UserMapper.getUserById</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">        &lt;resource&gt;</span><br><span class="line">            &lt;directory&gt;src/main/java&lt;/directory&gt;</span><br><span class="line">            &lt;includes&gt;</span><br><span class="line">                &lt;include&gt;**<span class="comment">/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="comment">            &lt;/includes&gt;</span></span><br><span class="line"><span class="comment">            &lt;filtering&gt;false&lt;/filtering&gt;</span></span><br><span class="line"><span class="comment">        &lt;/resource&gt;</span></span><br><span class="line"><span class="comment">    &lt;/resources&gt;</span></span><br><span class="line"><span class="comment">&lt;/build&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a>mybatis-config.xml</h3><p>typeAliases，增加别名。逐个写比较麻烦，直接使用 <code>package</code>，这样所有的包，都可以直接用小写开头的别名了。<br>mappers，有两种方式，一种是，指定<code>package</code>，这样直接添加一个路径下的所有mapper。<br>还可以逐个添加。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--定义别名，这样mapper.xml就可以直接写别名了--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;wayne_app.demo3.model&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   配置环境--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置mysql的环境--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--配置事务的类型--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--配置连接池--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--配置连接数据库的4个基本信息--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--useUnicode=true&amp;    &amp;需要转义  &amp;amp; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://10.172.26.15:3403/git?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dev&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;KxD5hkqkZk9EHPhnkNS3&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--指定映射配置文件的位置，映射配置文件指的是每个dao独立的配置文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;wayne_app.demo3.mapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;wayne_app.demo3.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;wayne_app.demo3.model.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;wayne_app.demo3.model.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllUser2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="统计count"><a href="#统计count" class="headerlink" title="统计count"></a>统计count</h3><p>这篇文章比较好<a target="_blank" rel="noopener" href="https://blog.csdn.net/li_w_ch/article/details/109752271">count统计</a>,    </p>
<p>其他 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/woyujiezhen/p/12494598.html">直接返回map</a></p>
<p>,<a target="_blank" rel="noopener" href="https://blog.csdn.net/weistin/article/details/79864150">https://blog.csdn.net/weistin/article/details/79864150</a></p>
<p>mapper.xml</p>
<p>只返回一个整数，<code>resultType=&quot;java.lang.Integer&quot;</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;count&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;java.lang.Integer&quot;</span>&gt;</span></span><br><span class="line">        select count(*) from question;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>接口如下，即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Integer <span class="title">count</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>



<h3 id="返回分页结果"><a href="#返回分页结果" class="headerlink" title="返回分页结果"></a>返回分页结果</h3><p>抽象成一个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Page</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> HashMap&lt;String, Object&gt; <span class="title">result</span><span class="params">(Object rows, Integer count)</span> </span>&#123;</span><br><span class="line">        HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;total&quot;</span>,rows);</span><br><span class="line">        map.put(<span class="string">&quot;rows&quot;</span>,count);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用时:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;list&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> HashMap&lt;String, Object&gt; <span class="title">getAll</span><span class="params">(Integer page, Integer rows)</span></span>&#123;</span><br><span class="line">    page = (page-<span class="number">1</span>)*rows;</span><br><span class="line">    <span class="keyword">return</span> Page.result(questionMapper.getAll(page, rows),questionMapper.count());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>中间的尝试过程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result(List&lt;Object&gt; rows, Integer count)  <span class="comment">//第一个参数，定义为数组</span></span><br><span class="line"><span class="comment">//而下面的items,居然是塞不进去</span></span><br><span class="line">List&lt;Question&gt; items = questionMapper.getAll(page, rows);</span><br><span class="line"><span class="comment">//因为  List&lt;Question&gt;    List&lt;Object&gt;  类型不匹配   questionMapper.getAll返回的结果，我又不会转成Object   </span></span><br></pre></td></tr></table></figure>

<p>todo：以后如何优化？？</p>
<h3 id="java模型与数据库的列"><a href="#java模型与数据库的列" class="headerlink" title="java模型与数据库的列"></a>java模型与数据库的列</h3><p>一般java的对象，驼峰命名，而数据库的列，多用_连接。如何让二者保持一致呢？使用<code>resultMap</code>。</p>
<p>使用jdbc直接操作的时候，可以直接拿到数据库对应的列，至于类型，是通过<code>getLong(第n列)</code>这种方式，即，数据库返回的对象，也不一定非要用java对象来承接，但用java对象来接是常用做法。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;questionMapping&quot;</span> <span class="attr">type</span>=<span class="string">&quot;wayne_app.simpleboot.model.Question&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;q_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;qId&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;content&quot;</span> <span class="attr">property</span>=<span class="string">&quot;content&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p>除此，之外，还有一对一，一对多的关系处理。可以用下面来处理。java会自动来解决映射，其实就是为java模型的子属性的对象，的实例化来解决的。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;aid&quot;</span>&gt;</span></span><br><span class="line">    一对一关系</span><br><span class="line"><span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;bid&quot;</span>&gt;</span></span><br><span class="line">    一对多关系</span><br><span class="line"><span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其实嘛，我们可以展平它，即，将子的属性下的对象的属性，直接挂到对象上。</p>
<p>实验过，下面的方式申明，及时<code>column</code>、<code>property</code>在返回结果、或java属性中不存在，也没有关系。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;result column&#x3D;&quot;content&quot; property&#x3D;&quot;content&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>通过上面，其实，java模型、resultMap可以增加一些，用不到的属性、甚至不存在的属性，反正，只要存在的时候，就能帮忙给挂上。</p>
<h3 id="java模型类型"><a href="#java模型类型" class="headerlink" title="java模型类型"></a>java模型类型</h3><p>上次听同事讲，可以直接将java模型的所有类型都置为 <code>String</code>类型，貌似感觉不规范，但是这样确实非常的快。</p>
<h3 id="sql中的字符串"><a href="#sql中的字符串" class="headerlink" title="sql中的字符串"></a>sql中的字符串</h3><p>如下，sql中出现的字符串，单引号、双引号都行。最好使用单引号，因为，postgresql只使用单引号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from question where content &#x3D; &#39;hello&#39;</span><br></pre></td></tr></table></figure>



<h3 id="mybatis，参数为啥需要实体类？"><a href="#mybatis，参数为啥需要实体类？" class="headerlink" title="mybatis，参数为啥需要实体类？"></a>mybatis，参数为啥需要实体类？</h3><p>假如有如下的查询，我们的if非常的多，即可能需要非常的参数，</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;whereSearch&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;content !=null&quot;</span>&gt;</span></span><br><span class="line">            and content like concat(&#x27;%&#x27;,#&#123;content&#125;,&#x27;%&#x27;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>那么对应的接口签名呢？可能如下，但是呢，如果继续增加参数呢？那么参数还要增加……</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;Question&gt; <span class="title">getAll</span><span class="params">(<span class="meta">@Param(&quot;page&quot;)</span> Integer page,<span class="meta">@Param(&quot;rows&quot;)</span> Integer rows,<span class="meta">@Param(&quot;content&quot;)</span> String content)</span></span>;</span><br></pre></td></tr></table></figure>

<p>但是呢，如果，我们直接使用参数呢？则一切非常的简单化了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;Question&gt; <span class="title">getAll</span><span class="params">(Question question)</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;questionMapping&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;...model.Question&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>瞬间，非常轻爽了。</p>
<p>同理，对控制器的参数，也是一样的。这样，就把脏活，交给了bean来干。主要逻辑的代码，就非常的清爽了。</p>
<h3 id="POOLED"><a href="#POOLED" class="headerlink" title="POOLED"></a>POOLED</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>POOLED采用传统的javax.sql.DataSource规范中的连接池，mybatis中有针对规范的实现</p>
</li>
<li><p>UNPOOLED 采用传统的获取连接的方式，虽然也实现Javax.sql.DataSource接口，但是并没有使用池的思想。</p>
</li>
<li><p>JNDI     采用服务器提供的JNDI技术实现，来获取DataSource对象，不同的服务器所能拿到DataSource是不一样。</p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/QGhurt/article/details/106431398">https://blog.csdn.net/QGhurt/article/details/106431398</a></p>
</li>
</ol>
<p>todo:自带连接池了？为啥springboot里面还使用别的连接池？</p>
<h3 id="mapper-namespace"><a href="#mapper-namespace" class="headerlink" title="mapper namespace"></a><a name="namespace">mapper namespace</a></h3><p>namespace如何命令的呢？</p>
<ul>
<li>接口方式</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;cn.chaofml.demo3.mapper.UserMapper&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br></pre></td></tr></table></figure>



<ul>
<li>模型</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;cn.chaofml.model.User&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SqlSession sqlSession = factory.openSession();</span><br><span class="line">User user = (User) sqlSession.selectOne(<span class="string">&quot;cn.chaofml.model.User.getUserById&quot;</span>,<span class="number">1</span>); <span class="comment">//使用命令空间</span></span><br></pre></td></tr></table></figure>



<p>todo：深入研究。</p>
<h2 id="springboot"><a href="#springboot" class="headerlink" title="springboot"></a>springboot</h2><blockquote>
<p>Result Maps collection does not contain value for</p>
</blockquote>
<p>网上找到的答案：<br>1、select标签内部的resultMap属性，指向的不正确<br>2、命名空间引入错了<br>3、resultMap的type或者id指引错误<br>我实际上发现的问题是：resultMap改成resultType</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resultType=<span class="string">&quot;wayne_app.simpleboot.model.User&quot;</span> </span><br></pre></td></tr></table></figure>
<p>连接密码错误的时候，不停的闪动，然后有如下错误提示，大概的意思是，密码错了，无法连接，并不停的重试。</p>
<blockquote>
<p>reate connection SQLException, url: jdbc:mysql://10.172.26.15:3403/git?useUnicode=true&amp;characterEncoding=utf8, errorCode 1045, state 28000</p>
</blockquote>
<blockquote>
<p>java.sql.SQLException: Access denied for user ‘dev1’@’10.20.24.223’ (using password: YES)</p>
</blockquote>
<h3 id="配置文件切换"><a href="#配置文件切换" class="headerlink" title="配置文件切换"></a>配置文件切换</h3><p>启动的时候如何指定配置文件？？</p>
<p>spring.config.name=app   指定配置文件</p>
<h3 id="资源打包"><a href="#资源打包" class="headerlink" title="资源打包"></a>资源打包</h3><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1700798">https://cloud.tencent.com/developer/article/1700798</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/newbest/p/9975151.html">https://www.cnblogs.com/newbest/p/9975151.html</a></p>
<p>打包的时候，pom配置如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>主要出现的问题是：</p>
<ul>
<li><p>更新了application.properties内容，结果打包后，还就旧的内容。执行<code>maven clean</code>删除旧的内容，结果打包后，还是没有出现。然后，点了一下重新运行项目，则打包，配置文件顺利的出现了。</p>
<blockquote>
<p>观察<code>target/classes/</code>目录下，这个目录可能代表着，打包后，<code>resources</code>资源存放的位置。</p>
<p>另外，maven有如下提示，即资源拷贝的情况。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[INFO] Copying 3 resources</span><br><span class="line">[INFO] Copying 452 resources</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li>resources目录下的静态页面，貌似没有打包进去。</li>
</ul>
<p>增加如下配置，即解决问题。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最终的pom配置文件，参见模板。</p>
<h3 id="为什么需要service"><a href="#为什么需要service" class="headerlink" title="为什么需要service"></a>为什么需要service</h3><p>除了mapper层，为啥还需要servicec层呢？这是因为mapper层，基本上没有什么逻辑，它只是一个接口层，然后mapper.xml，在这个上面，却没有办法加逻辑。除非把简单的逻辑写在控制器中，但是，没有办法复用。故，再整合一个service层，这一层，主要用来进行逻辑操作。</p>
<p><strong>mapper层，就是“简单的”映射数据库的操作。</strong></p>
<h3 id="https"><a href="#https" class="headerlink" title="https"></a>https</h3><p>除了密码必填，以及是否必填，其他都可直接回车。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool.exe -genkey -alias tomcathttps -keyalg RSA -keysize 2048 -keystore d:\pem.p12 -validity 365</span><br></pre></td></tr></table></figure>

<p>spring配置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">server.ssl.key-store=classpath:pem.p12</span><br><span class="line">server.ssl.key-alias=tomcathttps</span><br><span class="line">server.ssl.key-store-password=mypassword</span><br></pre></td></tr></table></figure>



<h3 id="thymeleaf"><a href="#thymeleaf" class="headerlink" title="thymeleaf"></a>thymeleaf</h3><ul>
<li>依赖</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--增加thymeleaf依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>控制器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/index&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">    ArrayList&lt;DemoUser&gt; demoUsers = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">//省略 变量的初始化</span></span><br><span class="line">    model.addAttribute(<span class="string">&quot;list&quot;</span>,demoUsers);   </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;demo/index&quot;</span>;   <span class="comment">// 注意最终：templates/ + &lt;return&gt; + .html </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>模板</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;user:$&#123;list&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.id&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.address&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure>





</li>
</ul>
<h3 id="静态资源访问配置"><a href="#静态资源访问配置" class="headerlink" title="静态资源访问配置"></a>静态资源访问配置</h3><p>springboot在未配置的情况下，<code>/resouces/static</code>下的文件可直接访问。<code>/resouces/template</code> 是thymeleaf的模板位置文件。</p>
<p>假设新建<code>/resouces/demo/index.html</code></p>
<p>配置1：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.web.resources.static-locations</span>=classpath:/</span><br><span class="line"><span class="attr">spring.mvc.static-path-pattern</span>=/**</span><br></pre></td></tr></table></figure>

<p>效果：通过<a target="_blank" rel="noopener" href="http://localhost:8080/demo/index.html%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E3%80%82%E4%BD%86%E6%98%AFstatic%E7%9A%84%E5%8E%9F%E6%9C%89%E6%98%A0%E5%B0%84%E5%A4%B1%E6%95%88%E4%BA%86%E3%80%82">http://localhost:8080/demo/index.html可以访问。但是static的原有映射失效了。</a></p>
<p>配置2</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.web.resources.static-locations</span>=classpath:/demo</span><br><span class="line"><span class="attr">spring.mvc.static-path-pattern</span>=/**</span><br></pre></td></tr></table></figure>

<p>效果：通过<a target="_blank" rel="noopener" href="http://localhost:8080/index.html%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E3%80%82%E4%BD%86%E6%98%AFstatic%E7%9A%84%E5%8E%9F%E6%9C%89%E6%98%A0%E5%B0%84%E5%A4%B1%E6%95%88%E4%BA%86%E3%80%82%E7%9C%81%E6%8E%89%E4%BA%86demo%E3%80%82">http://localhost:8080/index.html可以访问。但是static的原有映射失效了。省掉了demo。</a></p>
<p>原有配置可能是：``</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.web.resources.static-locations</span>=classpath:/static</span><br></pre></td></tr></table></figure>



<h2 id="Idea工具"><a href="#Idea工具" class="headerlink" title="Idea工具"></a>Idea工具</h2><h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><ul>
<li><p>点+名称</p>
<p>这是一系列的操作。常用的如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.for    快速循环一个数组</span><br><span class="line">.var    快速定义变量</span><br><span class="line">.sout   输出变量   当然也能直接sout</span><br></pre></td></tr></table></figure>

<p>探究：<a target="_blank" rel="noopener" href="https://www.h5w3.com/34043.html">https://www.h5w3.com/34043.html</a></p>
</li>
</ul>
<p>  查看：</p>
<blockquote>
<p> File | Settings | Editor | General | Postfix Completion </p>
</blockquote>
<ul>
<li>for</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42369687/article/details/89853679">https://blog.csdn.net/weixin_42369687/article/details/89853679</a></p>
<ul>
<li>代码修复</li>
</ul>
<p>对于有问题的代码，可以将光标移过去，并按<code>Alt+Enter</code>来解决。</p>
<ul>
<li>文件重命名文件名右键，Refactor，然后选择rename。但是类中存在引用，改了几次都没有改成功。功能是强大，但是没有达到目的。    </li>
</ul>
<h3 id="普通的项目，打包成jar"><a href="#普通的项目，打包成jar" class="headerlink" title="普通的项目，打包成jar"></a>普通的项目，打包成jar</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/blog5277/p/5920560.html">https://www.cnblogs.com/blog5277/p/5920560.html</a></p>
<h3 id="编译报错"><a href="#编译报错" class="headerlink" title="编译报错"></a>编译报错</h3><p>错误提示如下：</p>
<blockquote>
<p>Error:java: Compilation failed: internal java compiler error </p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/q290994/article/details/81474712">https://blog.csdn.net/q290994/article/details/81474712</a></p>
<p>貌似需要在好几处都设置一下。比如  java8 </p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="数据库配置加密"><a href="#数据库配置加密" class="headerlink" title="数据库配置加密"></a>数据库配置加密</h3><p>从一处代码发现，数据库的配置加密了，故找到了如下的文章。</p>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/204301.htm">https://www.jb51.net/article/204301.htm</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/11/26/java/%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%9D%BF/" rel="prev" title="配置模板">
                  <i class="fa fa-chevron-left"></i> 配置模板
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/12/07/other/%E8%B0%B7%E6%AD%8C%E6%89%A9%E5%B1%95%E7%BC%96%E5%86%99/" rel="next" title="谷歌扩展编写">
                  谷歌扩展编写 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chaofml</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  







  






</body>
</html>
